!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=173)}([function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function o(e,t,n,r){return new(n||(n=Promise))((function(i,o){function c(e){try{a(r.next(e))}catch(e){o(e)}}function u(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,u)}a((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,o,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(i=c.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){c.label=o[1];break}if(6===o[0]&&c.label<i[1]){c.label=i[1],i=o;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(o);break}i[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}Object.create;function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)c.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return c}function s(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}function f(e){return this instanceof f?(this.v=e,this):new f(e)}function l(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},c("next"),c("throw"),c("return"),r[Symbol.asyncIterator]=function(){return this},r;function c(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||u(e,t)}))})}function u(e,t){try{(n=i[e](t)).value instanceof f?Promise.resolve(n.value.v).then(a,s):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function a(e){u("next",e)}function s(e){u("throw",e)}function l(e,t){e(t),o.shift(),o.length&&u(o[0][0],o[0][1])}}function d(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=u(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}Object.create},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(3);function i(e){return Object(r.a)(null==e?void 0:e.lift)}function o(e){return function(t){if(i(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),i=function(e){function t(t,n,r,i,o){var c=e.call(this,t)||this;return c.onFinalize=o,c._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,c._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,c}return Object(r.e)(t,e),t.prototype.unsubscribe=function(){var t,n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))},t}(n(22).b)},function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return m}));var r=n(0),i=n(50),o=n(75),c=n(24),u=n(5),a=n(71),s=n(3),f=n(72),l=n(74),d=n(76),h=n(81),b=n(77),p=n(36);function v(e,t){return t?Object(a.a)(e,t):y(e)}function y(e){if(e instanceof u.a)return e;if(null!=e){if(Object(l.a)(e))return v=e,new u.a((function(e){var t=v[c.a]();if(Object(s.a)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Object(i.a)(e))return m(e);if(Object(o.a)(e))return a=e,new u.a((function(e){a.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,f.a)}));if(Object(d.a)(e))return g(e);if(Object(b.a)(e))return n=e,new u.a((function(e){var t,i;try{for(var o=Object(r.i)(n),c=o.next();!c.done;c=o.next()){var u=c.value;if(e.next(u),e.closed)return}}catch(e){t={error:e}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}e.complete()}));if(Object(p.a)(e))return t=e,g(Object(p.b)(t))}var t,n,a,v;throw Object(h.a)(e)}function m(e){return new u.a((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}))}function g(e){return new u.a((function(t){(function(e,t){var n,i,o,c;return Object(r.d)(this,void 0,void 0,(function(){var u,a;return Object(r.f)(this,(function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),n=Object(r.b)(e),s.label=1;case 1:return[4,n.next()];case 2:if((i=s.sent()).done)return[3,4];if(u=i.value,t.next(u),t.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=s.sent(),o={error:a},[3,11];case 6:return s.trys.push([6,,9,10]),i&&!i.done&&(c=n.return)?[4,c.call(n)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(22),i=n(8),o=n(24),c=n(32),u=n(23),a=n(3),s=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var o,c=(o=e)&&o instanceof r.b||function(e){return e&&Object(a.a)(e.next)&&Object(a.a)(e.error)&&Object(a.a)(e.complete)}(o)&&Object(i.c)(o)?e:new r.a(e,t,n);if(u.a.useDeprecatedSynchronousErrorHandling)this._deprecatedSyncErrorSubscribe(c);else{var s=this.operator,f=this.source;c.add(s?s.call(c,f):f?this._subscribe(c):this._trySubscribe(c))}return c},e.prototype._deprecatedSyncErrorSubscribe=function(e){var t=e;t._syncErrorHack_isSubscribing=!0;var n=this.operator;if(n)e.add(n.call(e,this.source));else try{e.add(this._subscribe(e))}catch(e){t.__syncError=e}for(var r=t;r;){if("__syncError"in r)try{throw r.__syncError}finally{e.unsubscribe()}r=r.destination}t._syncErrorHack_isSubscribing=!1},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=f(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(e){r(e),null==i||i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[o.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?Object(c.b)(e)(this):this},e.prototype.toPromise=function(e){var t=this;return new(e=f(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function f(e){var t;return null!==(t=null!=e?e:u.a.Promise)&&void 0!==t?t:Promise}},function(e,t,n){"use strict";function r(){}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n(5),o=n(8),c=n(61),u=n(14),a=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return Object(r.e)(t,e),t.prototype.lift=function(e){var t=new s(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new c.a},t.prototype.next=function(e){var t,n;if(this._throwIfClosed(),!this.isStopped){var i=this.observers.slice();try{for(var o=Object(r.i)(i),c=o.next();!c.done;c=o.next()){c.value.next(e)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}},t.prototype.error=function(e){if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;for(var t=this.observers;t.length;)t.shift().error(e)}},t.prototype.complete=function(){if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;for(var e=this.observers;e.length;)e.shift().complete()}},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this.hasError,n=this.isStopped,r=this.observers;return t||n?o.a:(r.push(e),new o.b((function(){return Object(u.a)(r,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,n=this.thrownError,r=this.isStopped;t?e.error(n):r&&e.complete()},t.prototype.asObservable=function(){var e=new i.a;return e.source=this,e},t.create=function(e,t){return new s(e,t)},t}(i.a),s=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return Object(r.e)(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:o.a},t}(a)},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s}));var r=n(0),i=n(3),o=n(47),c=n(14),u=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,c,u;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=Object(r.i)(a),l=s.next();!l.done;l=s.next()){l.value.remove(this)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else a.remove(this);var d=this.initialTeardown;if(Object(i.a)(d))try{d()}catch(e){u=e instanceof o.a?e.errors:[e]}var h=this._teardowns;if(h){this._teardowns=null;try{for(var b=Object(r.i)(h),p=b.next();!p.done;p=b.next()){var v=p.value;try{f(v)}catch(e){u=null!=u?u:[],e instanceof o.a?u=Object(r.h)(Object(r.h)([],Object(r.g)(u)),Object(r.g)(e.errors)):u.push(e)}}}catch(e){n={error:e}}finally{try{p&&!p.done&&(c=b.return)&&c.call(b)}finally{if(n)throw n.error}}}if(u)throw new o.a(u)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)f(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Object(c.a)(t,e)},e.prototype.remove=function(t){var n=this._teardowns;n&&Object(c.a)(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),a=u.EMPTY;function s(e){return e instanceof u||e&&"closed"in e&&Object(i.a)(e.remove)&&Object(i.a)(e.add)&&Object(i.a)(e.unsubscribe)}function f(e){Object(i.a)(e)?e():e.unsubscribe()}},function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return a}));var r=n(3),i=n(35);function o(e){return e[e.length-1]}function c(e){return Object(r.a)(o(e))?e.pop():void 0}function u(e){return Object(i.a)(o(e))?e.pop():void 0}function a(e,t){return"number"==typeof o(e)?e.pop():t}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(28),i=new(n(27).a)(r.a),o=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(5),i=new r.a((function(e){return e.complete()}));function o(e){return e?function(e){return new r.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(15),i=n(4),o=n(1),c=n(52),u=n(3);function a(e,t,n){return void 0===n&&(n=1/0),Object(u.a)(t)?a((function(n,o){return Object(r.a)((function(e,r){return t(n,e,o,r)}))(Object(i.c)(e(n,o)))}),n):("number"==typeof t&&(n=t),Object(o.b)((function(t,r){return Object(c.a)(t,r,e,n)})))}},function(e,t,n){"use strict";function r(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),i=n(2);function o(e,t){return Object(r.b)((function(n,r){var o=0;n.subscribe(new i.a(r,(function(n){r.next(e.call(t,n,o++))})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),i=n(2);function o(e,t){return Object(r.b)((function(n,r){var o=0;n.subscribe(new i.a(r,(function(n){return e.call(t,n,o++)&&r.next(n)})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(18),i=Object(r.a)((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}))},function(e,t,n){"use strict";function r(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),i=n(15),o=Array.isArray;function c(e){return Object(i.a)((function(t){return function(e,t){return o(t)?e.apply(void 0,Object(r.h)([],Object(r.g)(t))):e(t)}(e,t)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=Array.isArray;function i(e){return 1===e.length&&r(e[0])?e[0]:e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(49),i=n(4);function o(e,t){return t?Object(r.a)(e,t):Object(i.b)(e)}},function(e,t,n){"use strict";var r=n(0),i=n(3),o=n(8),c=n(23),u=n(72),a=n(6),s=f("C",void 0,void 0);function f(e,t,n){return{kind:e,value:t,error:n}}var l=n(73);n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h}));var d=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Object(o.c)(t)&&t.add(n)):n.destination=y,n}return Object(r.e)(t,e),t.create=function(e,t,n){return new h(e,t,n)},t.prototype.next=function(e){this.isStopped?v(function(e){return f("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?v(f("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?v(s,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(o.b),h=function(e){function t(t,n,r){var o,u=e.call(this)||this;if(Object(i.a)(t))o=t;else if(t){var s;o=t.next,n=t.error,r=t.complete,u&&c.a.useDeprecatedNextContext?(s=Object.create(t)).unsubscribe=function(){return u.unsubscribe()}:s=t,o=null==o?void 0:o.bind(s),n=null==n?void 0:n.bind(s),r=null==r?void 0:r.bind(s)}return u.destination={next:o?b(o,u):a.a,error:b(null!=n?n:p,u),complete:r?b(r,u):a.a},u}return Object(r.e)(t,e),t}(d);function b(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{e.apply(void 0,Object(r.h)([],Object(r.g)(n)))}catch(e){if(c.a.useDeprecatedSynchronousErrorHandling){if(!t._syncErrorHack_isSubscribing)throw e;t.__syncError=e}else Object(u.a)(e)}}}function p(e){throw e}function v(e,t){var n=c.a.onStoppedNotification;n&&l.a.setTimeout((function(){return n(e,t)}))}var y={closed:!0,next:a.a,error:p,complete:a.a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(4);function o(e){return new r.a((function(t){Object(i.c)(e()).subscribe(t)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(5),i=n(11),o=n(35),c=n(51);function u(e,t,n){void 0===e&&(e=0),void 0===n&&(n=i.a);var u=-1;return null!=t&&(Object(o.a)(t)?n=t:u=t),new r.a((function(t){var r=Object(c.a)(e)?+e-n.now():e;r<0&&(r=0);var i=0;return n.schedule((function(){t.closed||(t.next(i++),0<=u?this.schedule(void 0,u):t.complete())}),r)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(53),o=function(e){function t(t,n){void 0===n&&(n=i.a.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return Object(r.e)(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i.a)},function(e,t,n){"use strict";var r=n(0),i=function(e){function t(t,n){return e.call(this)||this}return Object(r.e)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(8).b),o={setInterval:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.delegate;return((null==n?void 0:n.setInterval)||setInterval).apply(void 0,Object(r.h)([],Object(r.g)(e)))},clearInterval:function(e){var t=o.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},c=n(14);n.d(t,"a",(function(){return u}));var u=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return Object(r.e)(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),o.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;o.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Object(c.a)(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(i)},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s}));var r,i=n(12),o=n(43),c=n(63),u=n(3);!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(r||(r={}));var a=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){return s(this,e)},e.prototype.do=function(e,t,n){var r=this.kind,i=this.value,o=this.error;return"N"===r?null==e?void 0:e(i):"E"===r?null==t?void 0:t(o):null==n?void 0:n()},e.prototype.accept=function(e,t,n){var r;return Object(u.a)(null===(r=e)||void 0===r?void 0:r.next)?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e=this.kind,t=this.value,n=this.error,r="N"===e?Object(o.a)(t):"E"===e?Object(c.a)((function(){return n})):"C"===e?i.a:0;if(!r)throw new TypeError("Unexpected notification kind "+e);return r},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function s(e,t){var n,r,i,o=e,c=o.kind,u=o.value,a=o.error;if("string"!=typeof c)throw new TypeError('Invalid notification, missing "kind"');"N"===c?null===(n=t.next)||void 0===n||n.call(t,u):"E"===c?null===(r=t.error)||void 0===r||r.call(t,a):null===(i=t.complete)||void 0===i||i.call(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(45),i=n(21),o=n(10);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(r.a)()(Object(i.a)(e,Object(o.c)(e)))}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.StreamRef=t.StreamID=t.CommitID=void 0;const o=n(55);var c=n(89);Object.defineProperty(t,"CommitID",{enumerable:!0,get:function(){return c.CommitID}});var u=n(55);Object.defineProperty(t,"StreamID",{enumerable:!0,get:function(){return u.StreamID}});var a=n(137);Object.defineProperty(t,"StreamRef",{enumerable:!0,get:function(){return a.StreamRef}}),i(n(90),t),t.default=o.StreamID},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(9);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)}function o(e){return 0===e.length?r.a:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),i=n(5),o=n(8),c=n(60),u=n(2),a=n(1),s=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._subject=null,r._refCount=0,r._connection=null,Object(a.a)(t)&&(r.lift=t.lift),r}return Object(r.e)(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new o.b;var n=this.getSubject();t.add(this.source.subscribe(new u.a(n,void 0,(function(){e._teardown(),n.complete()}),(function(t){e._teardown(),n.error(t)}),(function(){return e._teardown()})))),t.closed&&(this._connection=null,t=o.b.EMPTY)}return t},t.prototype.refCount=function(){return Object(c.a)()(this)},t}(i.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(13),i=n(9);function o(e){return void 0===e&&(e=1/0),Object(r.a)(i.a,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){return e&&Object(r.a)(e.schedule)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var r=n(0),i=n(3);function o(e){return Object(r.a)(this,arguments,(function(){var t,n,i;return Object(r.f)(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Object(r.c)(t.read())];case 3:return n=o.sent(),i=n.value,n.done?[4,Object(r.c)(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Object(r.c)(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function c(e){return Object(i.a)(null==e?void 0:e.getReader)}},function(e,t,n){"use strict";const r=n(118),{encodeText:i,decodeText:o,concat:c}=n(86);function u(e){if(Object.prototype.hasOwnProperty.call(r.names,e))return r.names[e];if(Object.prototype.hasOwnProperty.call(r.codes,e))return r.codes[e];throw new Error("Unsupported encoding: "+e)}(t=e.exports=function(e,t){if(!t)throw new Error("requires an encoded Uint8Array");const{name:n,codeBuf:r}=u(e);return function(e,t){u(e).decode(o(t))}(n,t),c([r,t],r.length+t.length)}).encode=function(e,t){const n=u(e),r=i(n.encode(t));return c([n.codeBuf,r],n.codeBuf.length+r.length)},t.decode=function(e){e instanceof Uint8Array&&(e=o(e));const t=e[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(t)&&(e=e.toLowerCase()),u(e[0]).decode(e.substring(1))},t.isEncoded=function(e){if(e instanceof Uint8Array&&(e=o(e)),"[object String]"!==Object.prototype.toString.call(e))return!1;try{return u(e[0]).name}catch(e){return!1}},t.encoding=u,t.encodingFromData=function(e){return e instanceof Uint8Array&&(e=o(e)),u(e[0])};const a=Object.freeze(r.names),s=Object.freeze(r.codes);t.names=a,t.codes=s},function(e,t,n){"use strict";const{encoding:r}=n(37),i=new TextDecoder("utf8");e.exports=function(e,t="utf8"){return"utf8"===t||"utf-8"===t?i.decode(e):"ascii"===t?function(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(e):r(t).encode(e)}},function(e,t,n){"use strict";e.exports=function(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return l}));var r=n(11),i=n(51),o=n(1),c=n(4),u=n(18),a=n(80),s=n(2),f=Object(u.a)((function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}}));function l(e,t){var n=Object(i.a)(e)?{first:e}:"number"==typeof e?{each:e}:e,u=n.first,f=n.each,l=n.with,h=void 0===l?d:l,b=n.scheduler,p=void 0===b?null!=t?t:r.b:b,v=n.meta,y=void 0===v?null:v;if(null==u&&null==f)throw new TypeError("No timeout provided.");return Object(o.b)((function(e,t){var n,r,i=null,o=0,l=function(e){r=Object(a.a)(t,p,(function(){n.unsubscribe(),Object(c.c)(h({meta:y,lastValue:i,seen:o})).subscribe(t)}),e)};n=e.subscribe(new s.a(t,(function(e){null==r||r.unsubscribe(),o++,t.next(i=e),f>0&&l(f)}),void 0,void 0,(function(){(null==r?void 0:r.closed)||null==r||r.unsubscribe(),i=null}))),l(null!=u?"number"==typeof u?u:+u-p.now():f)}))}function d(e){throw new f(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),i=n(7),o=n(48),c=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=o.a);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=n,i._timestampProvider=r,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,n),i}return Object(r.e)(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,i=n._buffer,o=n._infiniteTimeWindow,c=n._timestampProvider,u=n._windowTime;r||(i.push(t),!o&&i.push(c.now()+u)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!e.closed;i+=n?1:2)e.next(r[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this._bufferSize,t=this._timestampProvider,n=this._buffer,r=this._infiniteTimeWindow,i=(r?1:2)*e;if(e<1/0&&i<n.length&&n.splice(0,n.length-i),!r){for(var o=t.now(),c=0,u=1;u<n.length&&n[u]<=o;u+=2)c=u;c&&n.splice(0,c+1)}},t}(i.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return Object(r.e)(t,e),t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t._hasValue,i=t._value,o=t.thrownError,c=t.isStopped;n?e.error(o):c&&(r&&e.next(i),e.complete())},t.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},t.prototype.complete=function(){var t=this._hasValue,n=this._value;this._isComplete||(this._isComplete=!0,t&&e.prototype.next.call(this,n),e.prototype.complete.call(this))},t}(n(7).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(21),i=n(49),o=n(10);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(o.c)(e);return n?Object(i.a)(e,n):Object(r.a)(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n(5),i=n(82),o=n(4),c=n(9),u=n(19),a=n(10),s=n(83),f=n(2);function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(a.c)(e),f=Object(a.b)(e),l=Object(i.a)(e),h=l.args,b=l.keys;if(0===h.length)return Object(o.a)([],n);var p=new r.a(d(h,n,b?function(e){return Object(s.a)(b,e)}:c.a));return f?p.pipe(Object(u.a)(f)):p}function d(e,t,n){return void 0===n&&(n=c.a),function(r){h(t,(function(){for(var i=e.length,c=new Array(i),u=i,a=i,s=function(i){h(t,(function(){var s=Object(o.a)(e[i],t),l=!1;s.subscribe(new f.a(r,(function(e){c[i]=e,l||(l=!0,a--),a||r.next(n(c.slice()))}),(function(){--u||r.complete()})))}),r)},l=0;l<i;l++)s(l)}),r)}}function h(e,t,n){e?n.add(e.schedule(t)):t()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(34);function i(){return Object(r.a)(1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),i=n(5),o=n(4),c=n(20),u=n(12),a=n(2),s=n(10);function f(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(s.b)(e),f=Object(c.a)(e);return f.length?new i.a((function(e){var t=f.map((function(){return[]})),i=f.map((function(){return!1}));e.add((function(){t=i=null}));for(var c=function(c){Object(o.c)(f[c]).subscribe(new a.a(e,(function(o){if(t[c].push(o),t.every((function(e){return e.length}))){var u=t.map((function(e){return e.shift()}));e.next(n?n.apply(void 0,Object(r.h)([],Object(r.g)(u))):u),t.some((function(e,t){return!e.length&&i[t]}))&&e.complete()}}),(function(){i[c]=!0,!t[c].length&&e.complete()})))},u=0;!e.closed&&u<f.length;u++)c(u);return function(){t=i=null}})):u.a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(18),i=Object(r.a)((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={now:function(){return(r.delegate||Date).now()},delegate:void 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(5);function i(e,t){return new r.a((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},function(e,t,n){"use strict";function r(e){return e instanceof Date&&!isNaN(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4),i=n(2);function o(e,t,n,o,c,u,a,s){var f=[],l=0,d=0,h=!1,b=function(){!h||f.length||l||t.complete()},p=function(e){return l<o?v(e):f.push(e)},v=function(e){u&&t.next(e),l++;var s=!1;Object(r.c)(n(e,d++)).subscribe(new i.a(t,(function(e){null==c||c(e),u?p(e):t.next(e)}),(function(){s=!0}),void 0,(function(){if(s)try{l--;for(var e=function(){var e=f.shift();a?t.add(a.schedule((function(){return v(e)}))):v(e)};f.length&&l<o;)e();b()}catch(e){t.error(e)}})))};return e.subscribe(new i.a(t,p,(function(){h=!0,b()}))),function(){null==s||s()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(48),i=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=r.a.now,e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(18),i=Object(r.a)((function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}))},function(e,t,n){"use strict";var r,i,o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,c=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(c=(o<3?i(c):o>3?i(t,n,c):i(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},a=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StreamID=void 0;const f=s(n(56)),l=s(n(37)),d=s(n(88)),h=s(n(39)),b=s(n(38)),p=n(101),v=n(102),y=n(103),m=n(89),g=n(90);function w(e){const[t,n]=v.readVarint(e);if(t!==p.STREAMID_CODEC)throw new Error("fromBytes: invalid streamid, does not include streamid codec");const[r,i]=v.readVarint(n),[o,c]=v.readCid(i);if(c.length>0)throw new Error("Invalid StreamID: contains commit");return new O(r,o)}const k=Symbol.for("@ceramicnetwork/streamid/StreamID");class O{constructor(e,t){if(this._tag=k,r.set(this,void 0),i.set(this,void 0),!e&&0!==e)throw new Error("constructor: type required");if(!t)throw new Error("constructor: cid required");u(this,r,"string"==typeof e?g.StreamType.codeByName(e):e),u(this,i,"string"==typeof t?new f.default(t):t)}static isInstance(e){return"object"==typeof e&&"_tag"in e&&e._tag===k}get type(){return a(this,r)}get typeName(){return g.StreamType.nameByCode(a(this,r))}get cid(){return a(this,i)}get bytes(){const e=d.default.encode(p.STREAMID_CODEC),t=d.default.encode(this.type);return h.default([e,t,this.cid.bytes])}get baseID(){return new O(a(this,r),a(this,i))}atCommit(e){return new m.CommitID(a(this,r),a(this,i),e)}equals(e){return!!O.isInstance(e)&&(this.type===e.type&&this.cid.equals(e.cid))}toString(){return b.default(l.default.encode(p.DEFAULT_BASE,this.bytes))}toUrl(){return"ceramic://"+this.toString()}[(r=new WeakMap,i=new WeakMap,Symbol.for("nodejs.util.inspect.custom"))](){return`StreamID(${this.toString()})`}[Symbol.toPrimitive](){return this.toString()}}O.fromBytes=w,O.fromString=function(e){const t=e.replace("ceramic://","").replace("/ceramic/",""),n=t.includes("commit")?t.split("?")[0]:t;return w(l.default.decode(n))},o([y.Memoize(),c("design:type",String),c("design:paramtypes",[])],O.prototype,"typeName",null),o([y.Memoize(),c("design:type",Uint8Array),c("design:paramtypes",[])],O.prototype,"bytes",null),o([y.Memoize(),c("design:type",O),c("design:paramtypes",[])],O.prototype,"baseID",null),o([y.Memoize(),c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",String)],O.prototype,"toString",null),o([y.Memoize(),c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",String)],O.prototype,"toUrl",null),t.StreamID=O},function(e,t,n){"use strict";const r=n(97),i=n(37),o=n(127),c=n(133),u=n(39),a=n(38),s=n(100),f=o.nameToCode,l=Object.keys(f).reduce((e,t)=>(e[f[t]]=t,e),{}),d=Symbol.for("@ipld/js-cid/CID");class h{constructor(e,t,n,c){if(this.version,this.codec,this.multihash,Object.defineProperty(this,d,{value:!0}),h.isCID(e)){const t=e;return this.version=t.version,this.codec=t.codec,this.multihash=t.multihash,void(this.multibaseName=t.multibaseName||(0===t.version?"base58btc":"base32"))}if("string"==typeof e){const t=i.isEncoded(e);if(t){const n=i.decode(e);this.version=parseInt(n[0].toString(),16),this.codec=o.getCodec(n.slice(1)),this.multihash=o.rmPrefix(n.slice(1)),this.multibaseName=t}else this.version=0,this.codec="dag-pb",this.multihash=r.fromB58String(e),this.multibaseName="base58btc";return h.validateCID(this),void Object.defineProperty(this,"string",{value:e})}if(e instanceof Uint8Array){const t=parseInt(e[0].toString(),16);if(1===t){const n=e;this.version=t,this.codec=o.getCodec(n.slice(1)),this.multihash=o.rmPrefix(n.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=e,this.multibaseName="base58btc";h.validateCID(this)}else this.version=e,"number"==typeof t&&(t=l[t]),this.codec=t,this.multihash=n,this.multibaseName=c||(0===e?"base58btc":"base32"),h.validateCID(this)}get bytes(){let e=this._bytes;if(!e){if(0===this.version)e=this.multihash;else{if(1!==this.version)throw new Error("unsupported version");{const t=o.getCodeVarint(this.codec);e=u([[1],t,this.multihash],1+t.byteLength+this.multihash.byteLength)}}Object.defineProperty(this,"_bytes",{value:e})}return e}get prefix(){const e=o.getCodeVarint(this.codec),t=r.prefix(this.multihash);return u([[this.version],e,t],1+e.byteLength+t.byteLength)}get code(){return f[this.codec]}toV0(){if("dag-pb"!==this.codec)throw new Error("Cannot convert a non dag-pb CID to CIDv0");const{name:e,length:t}=r.decode(this.multihash);if("sha2-256"!==e)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(32!==t)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new h(0,this.codec,this.multihash)}toV1(){return new h(1,this.codec,this.multihash,this.multibaseName)}toBaseEncodedString(e=this.multibaseName){if(this.string&&0!==this.string.length&&e===this.multibaseName)return this.string;let t;if(0===this.version){if("base58btc"!==e)throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");t=r.toB58String(this.multihash)}else{if(1!==this.version)throw new Error("unsupported version");t=a(i.encode(e,this.bytes))}return e===this.multibaseName&&Object.defineProperty(this,"string",{value:t}),t}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&s(this.multihash,e.multihash)}static validateCID(e){const t=c.checkCIDComponents(e);if(t)throw new Error(t)}static isCID(e){return e instanceof h||Boolean(e&&e[d])}}h.codecs=f,e.exports=h},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(141),t),i(n(142),t),i(n(143),t),i(n(104),t),i(n(105),t),i(n(146),t),i(n(107),t),i(n(147),t),i(n(148),t),i(n(108),t),i(n(150),t),i(n(92),t),i(n(151),t),i(n(152),t),i(n(153),t),i(n(154),t),i(n(155),t)},function(e,t){
/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017 Joachim Wester
 * MIT license
 */
var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=Object.prototype.hasOwnProperty;function o(e,t){return i.call(e,t)}function c(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);t=[];for(var r in e)o(e,r)&&t.push(r);return t}function u(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function a(e,t){var n;for(var r in e)if(o(e,r)){if(e[r]===t)return u(r)+"/";if("object"==typeof e[r]&&""!=(n=a(e[r],t)))return u(r)+"/"+n}return""}function s(e,t){var n=[e];for(var r in t){var i="object"==typeof t[r]?JSON.stringify(t[r],null,2):t[r];void 0!==i&&n.push(r+": "+i)}return n.join("\n")}t.hasOwnProperty=o,t._objectKeys=c,t._deepClone=function(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}},t.isInteger=function(e){for(var t,n=0,r=e.length;n<r;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0},t.escapePathComponent=u,t.unescapePathComponent=function(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")},t._getPathRecursive=a,t.getPath=function(e,t){if(e===t)return"/";var n=a(e,t);if(""===n)throw new Error("Object not found in root");return"/"+n},t.hasUndefined=function e(t){if(void 0===t)return!0;if(t)if(Array.isArray(t)){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return!0}else if("object"==typeof t){var i=c(t),o=i.length;for(n=0;n<o;n++)if(e(t[i[n]]))return!0}return!1};var f=function(e){function t(t,n,r,i,o){var c=this.constructor,u=e.call(this,s(t,{name:n,index:r,operation:i,tree:o}))||this;return u.name=n,u.index=r,u.operation=i,u.tree=o,Object.setPrototypeOf(u,c.prototype),u.message=s(t,{name:n,index:r,operation:i,tree:o}),u}return r(t,e),t}(Error);t.PatchError=f},function(e,t,n){"use strict";n.r(t);var r=n(5),i=n(33),o=n(24),c=n(8),u={now:function(){return(u.delegate||performance).now()},delegate:void 0},a=n(0),s={schedule:function(e){var t=requestAnimationFrame,n=cancelAnimationFrame,r=s.delegate;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);var i=t((function(t){n=void 0,e(t)}));return new c.b((function(){return null==n?void 0:n(i)}))},requestAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=s.delegate;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame).apply(void 0,Object(a.h)([],Object(a.g)(e)))},cancelAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=s.delegate;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,Object(a.h)([],Object(a.g)(e)))},delegate:void 0};function f(e){return e?l(e):h}function l(e){var t=s.schedule;return new r.a((function(n){var r=new c.b,i=e||u,o=i.now(),a=function(c){var u=i.now();n.next({timestamp:e?u:c,elapsed:u-o}),n.closed||r.add(t(a))};return r.add(t(a)),r}))}var d,h=l(),b=n(7),p=n(62),v=n(41),y=n(42),m=n(28),g=1,w={};function k(e){return e in w&&(delete w[e],!0)}var O=function(e){var t=g++;return w[t]=!0,d||(d=Promise.resolve()),d.then((function(){return k(t)&&e()})),t},j=function(e){k(e)},_={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_.delegate;return((null==n?void 0:n.setImmediate)||O).apply(void 0,Object(a.h)([],Object(a.g)(e)))},clearImmediate:function(e){var t=_.delegate;return((null==t?void 0:t.clearImmediate)||j)(e)},delegate:void 0},E=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return Object(a.e)(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=_.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(_.clearImmediate(n),t._scheduled=void 0)},t}(m.a),S=n(27),x=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.e)(t,e),t.prototype.flush=function(e){this._active=!0,this._scheduled=void 0;var t,n=this.actions,r=-1;e=e||n.shift();var i=n.length;do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this._active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(S.a))(E),A=x,C=n(11),P=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return Object(a.e)(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(m.a),I=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.e)(t,e),t}(S.a))(P),T=I,D=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return Object(a.e)(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=s.requestAnimationFrame((function(){return t.flush(void 0)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(s.cancelAnimationFrame(n),t._scheduled=void 0)},t}(m.a),R=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.e)(t,e),t.prototype.flush=function(e){this._active=!0,this._scheduled=void 0;var t,n=this.actions,r=-1;e=e||n.shift();var i=n.length;do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this._active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(S.a))(D),N=R,U=function(e){function t(t,n){void 0===t&&(t=M),void 0===n&&(n=1/0);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return Object(a.e)(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(S.a),M=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.index=r,i.active=!0,i.index=t.index=r,i}return Object(a.e)(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),Number.isFinite(r)){if(!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)}return c.b.EMPTY},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(m.a),L=n(53),F=n(22),B=n(29),z=n(32),V=n(6),q=n(9),$=n(3);function J(e){return!!e&&(e instanceof r.a||Object($.a)(e.lift)&&Object($.a)(e.subscribe))}var H=n(17);function G(e,t){var n="object"==typeof t;return new Promise((function(r,i){var o,c=!1;e.subscribe({next:function(e){o=e,c=!0},error:i,complete:function(){c?r(o):n?r(t.defaultValue):i(new H.a)}})}))}function Y(e,t){var n="object"==typeof t;return new Promise((function(r,i){var o=new F.a({next:function(e){r(e),o.unsubscribe()},error:i,complete:function(){n?r(t.defaultValue):i(new H.a)}});e.subscribe(o)}))}var W=n(54),K=n(64),Q=n(61),X=n(65),Z=n(40),ee=n(47),te=n(35),ne=n(66),re=n(19),ie=n(67);function oe(e,t,n,i){if(n){if(!Object(te.a)(n))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return oe(e,t,i).apply(this,r).pipe(Object(re.a)(n))};i=n}return i?function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return oe(e,t).apply(this,n).pipe(Object(ne.a)(i),Object(ie.a)(i))}:function(){for(var n=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var c=new y.a,u=!0;return new r.a((function(r){var o=c.subscribe(r);if(u){u=!1;var s=!1,f=!1;t.apply(n,Object(a.h)(Object(a.h)([],Object(a.g)(i)),[function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e){var r=t.shift();if(null!=r)return void c.error(r)}c.next(1<t.length?t:t[0]),f=!0,s&&c.complete()}])),f&&c.complete(),s=!0}return o}))}}function ce(e,t,n){return oe(!1,e,t,n)}function ue(e,t,n){return oe(!0,e,t,n)}var ae=n(44),se=n(30),fe=n(25),le={connector:function(){return new b.a},resetOnDisconnect:!0};function de(e,t){void 0===t&&(t=le);var n=null,i=t.connector,o=t.resetOnDisconnect,c=void 0===o||o,u=i(),a=new r.a((function(e){return u.subscribe(e)}));return a.connect=function(){return n&&!n.closed||(n=Object(fe.a)((function(){return e})).subscribe(u),c&&n.add((function(){return u=i()}))),n},a}var he=n(12),be=n(82),pe=n(4),ve=n(10),ye=n(2),me=n(83);function ge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(ve.b)(e),i=Object(be.a)(e),o=i.args,c=i.keys,u=new r.a((function(e){var t=o.length;if(t)for(var n=new Array(t),r=t,i=t,u=function(t){var u=!1;Object(pe.c)(o[t]).subscribe(new ye.a(e,(function(e){u||(u=!0,i--),n[t]=e}),(function(){--r&&u||(i||e.next(c?Object(me.a)(c,n):n),e.complete())})))},a=0;a<t;a++)u(a);else e.complete()}));return n?u.pipe(Object(re.a)(n)):u}var we=n(13),ke=n(50),Oe=n(21),je=["addListener","removeListener"],_e=["addEventListener","removeEventListener"],Ee=["on","off"];function Se(e,t,n,i){if(Object($.a)(n)&&(i=n,n=void 0),i)return Se(e,t,n).pipe(Object(re.a)(i));var o=Object(a.g)(function(e){return Object($.a)(e.addEventListener)&&Object($.a)(e.removeEventListener)}(e)?_e.map((function(r){return function(i){return e[r](t,i,n)}})):function(e){return Object($.a)(e.addListener)&&Object($.a)(e.removeListener)}(e)?je.map(xe(e,t)):function(e){return Object($.a)(e.on)&&Object($.a)(e.off)}(e)?Ee.map(xe(e,t)):[],2),c=o[0],u=o[1];if(!c&&Object(ke.a)(e))return Object(we.a)((function(e){return Se(e,t,n)}))(Object(Oe.a)(e));if(!c)throw new TypeError("Invalid event target");return new r.a((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return c(t),function(){return u(t)}}))}function xe(e,t){return function(n){return function(r){return e[n](t,r)}}}function Ae(e,t,n){return n?Ae(e,t).pipe(Object(re.a)(n)):new r.a((function(n){var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)},i=e(r);return Object($.a)(t)?function(){return t(r,i)}:void 0}))}var Ce=n(79);function Pe(e,t,n,r,i){var o,c,u,s;function f(){var e;return Object(a.f)(this,(function(r){switch(r.label){case 0:e=s,r.label=1;case 1:return t&&!t(e)?[3,4]:[4,u(e)];case 2:r.sent(),r.label=3;case 3:return e=n(e),[3,1];case 4:return[2]}}))}return 1===arguments.length?(s=(o=e).initialState,t=o.condition,n=o.iterate,c=o.resultSelector,u=void 0===c?q.a:c,i=o.scheduler):(s=e,!r||Object(te.a)(r)?(u=q.a,i=r):u=r),Object(fe.a)(i?function(){return Object(Ce.a)(f(),i)}:f)}function Ie(e,t,n){return Object(fe.a)((function(){return e()?t:n}))}var Te=n(68),De=n(34);function Re(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(ve.c)(e),r=Object(ve.a)(e,1/0),i=e;return i.length?1===i.length?Object(pe.c)(i[0]):Object(De.a)(r)(Object(Oe.a)(i,n)):he.a}var Ne=new r.a(V.a);function Ue(){return Ne}var Me=n(43),Le=n(69),Fe=n(20);function Be(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(Le.a)(Object(Fe.a)(e))(he.a)}function ze(e,t){return Object(pe.a)(Object.entries(e),t)}var Ve=n(84),qe=n(16);function $e(e,t,n){return[Object(qe.a)(t,n)(Object(pe.c)(e)),Object(qe.a)(Object(Ve.a)(t,n))(Object(pe.c)(e))]}var Je=n(70);function He(e,t,n){if(null==t&&(t=e,e=0),t<=0)return he.a;var i=t+e;return new r.a(n?function(t){var r=e;return n.schedule((function(){r<i?(t.next(r++),this.schedule()):t.complete()}))}:function(t){for(var n=e;n<i&&!t.closed;)t.next(n++);t.complete()})}var Ge=n(63),Ye=n(26);function We(e,t){return new r.a((function(n){var r=e(),i=t(r);return(i?Object(pe.c)(i):he.a).subscribe(n),function(){r&&r.unsubscribe()}}))}var Ke=n(46),Qe=n(71),Xe=n(23);n.d(t,"Observable",(function(){return r.a})),n.d(t,"ConnectableObservable",(function(){return i.a})),n.d(t,"observable",(function(){return o.a})),n.d(t,"animationFrames",(function(){return f})),n.d(t,"Subject",(function(){return b.a})),n.d(t,"BehaviorSubject",(function(){return p.a})),n.d(t,"ReplaySubject",(function(){return v.a})),n.d(t,"AsyncSubject",(function(){return y.a})),n.d(t,"asap",(function(){return A})),n.d(t,"asapScheduler",(function(){return x})),n.d(t,"async",(function(){return C.a})),n.d(t,"asyncScheduler",(function(){return C.b})),n.d(t,"queue",(function(){return T})),n.d(t,"queueScheduler",(function(){return I})),n.d(t,"animationFrame",(function(){return N})),n.d(t,"animationFrameScheduler",(function(){return R})),n.d(t,"VirtualTimeScheduler",(function(){return U})),n.d(t,"VirtualAction",(function(){return M})),n.d(t,"Scheduler",(function(){return L.a})),n.d(t,"Subscription",(function(){return c.b})),n.d(t,"Subscriber",(function(){return F.b})),n.d(t,"Notification",(function(){return B.a})),n.d(t,"NotificationKind",(function(){return B.b})),n.d(t,"pipe",(function(){return z.a})),n.d(t,"noop",(function(){return V.a})),n.d(t,"identity",(function(){return q.a})),n.d(t,"isObservable",(function(){return J})),n.d(t,"lastValueFrom",(function(){return G})),n.d(t,"firstValueFrom",(function(){return Y})),n.d(t,"ArgumentOutOfRangeError",(function(){return W.a})),n.d(t,"EmptyError",(function(){return H.a})),n.d(t,"NotFoundError",(function(){return K.a})),n.d(t,"ObjectUnsubscribedError",(function(){return Q.a})),n.d(t,"SequenceError",(function(){return X.a})),n.d(t,"TimeoutError",(function(){return Z.a})),n.d(t,"UnsubscriptionError",(function(){return ee.a})),n.d(t,"bindCallback",(function(){return ce})),n.d(t,"bindNodeCallback",(function(){return ue})),n.d(t,"combineLatest",(function(){return ae.a})),n.d(t,"concat",(function(){return se.a})),n.d(t,"connectable",(function(){return de})),n.d(t,"defer",(function(){return fe.a})),n.d(t,"empty",(function(){return he.b})),n.d(t,"forkJoin",(function(){return ge})),n.d(t,"from",(function(){return pe.a})),n.d(t,"fromEvent",(function(){return Se})),n.d(t,"fromEventPattern",(function(){return Ae})),n.d(t,"generate",(function(){return Pe})),n.d(t,"iif",(function(){return Ie})),n.d(t,"interval",(function(){return Te.a})),n.d(t,"merge",(function(){return Re})),n.d(t,"never",(function(){return Ue})),n.d(t,"of",(function(){return Me.a})),n.d(t,"onErrorResumeNext",(function(){return Be})),n.d(t,"pairs",(function(){return ze})),n.d(t,"partition",(function(){return $e})),n.d(t,"race",(function(){return Je.a})),n.d(t,"range",(function(){return He})),n.d(t,"throwError",(function(){return Ge.a})),n.d(t,"timer",(function(){return Ye.a})),n.d(t,"using",(function(){return We})),n.d(t,"zip",(function(){return Ke.a})),n.d(t,"scheduled",(function(){return Qe.a})),n.d(t,"EMPTY",(function(){return he.a})),n.d(t,"NEVER",(function(){return Ne})),n.d(t,"config",(function(){return Xe.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),i=n(2);function o(){return Object(r.b)((function(e,t){var n=null;e._refCount++;var r=new i.a(t,void 0,void 0,void 0,(function(){if(!e||e._refCount<=0||0<--e._refCount)n=null;else{var r=e._connection,i=n;n=null,!r||i&&r!==i||r.unsubscribe(),t.unsubscribe()}}));e.subscribe(r),r.closed||(n=e.connect())}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(18),i=Object(r.a)((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),i=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return Object(r.e)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,n=this._value;if(e)throw t;return this._throwIfClosed(),n},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(n(7).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(3);function o(e,t){var n=Object(i.a)(e)?e:function(){return e},o=function(e){return e.error(n())};return new r.a(t?function(e){return t.schedule(o,0,e)}:o)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(18),i=Object(r.a)((function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(18),i=Object(r.a)((function(e){return function(t){e(this),this.name="SequenceError",this.message=t}}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(e,t){return void 0===t&&(t=0),Object(r.b)((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),i=n(2);function o(e,t){return void 0===t&&(t=0),Object(r.b)((function(n,r){n.subscribe(new i.a(r,(function(n){return r.add(e.schedule((function(){return r.next(n)}),t))}),(function(){return r.add(e.schedule((function(){return r.complete()}),t))}),(function(n){return r.add(e.schedule((function(){return r.error(n)}),t))})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(11),i=n(26);function o(e,t){return void 0===e&&(e=0),void 0===t&&(t=r.b),e<0&&(e=0),Object(i.a)(e,e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),i=n(1),o=n(4),c=n(20),u=n(2),a=n(6);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(c.a)(e);return Object(i.b)((function(e,t){var i=Object(r.h)([e],Object(r.g)(n)),c=function(){if(!t.closed)if(i.length>0){var e=void 0;try{e=Object(o.c)(i.shift())}catch(e){return void c()}var n=new u.a(t,void 0,a.a,a.a);t.add(e.subscribe(n)),n.add(c)}else t.complete()};c()}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return a}));var r=n(5),i=n(4),o=n(20),c=n(2);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=Object(o.a)(e)).length?Object(i.c)(e[0]):new r.a(a(e))}function a(e){return function(t){for(var n=[],r=function(r){n.push(Object(i.c)(e[r]).subscribe(new c.a(t,(function(e){if(n){for(var i=0;i<n.length;i++)i!==r&&n[i].unsubscribe();n=null}t.next(e)}))))},o=0;n&&!t.closed&&o<e.length;o++)r(o)}}},function(e,t,n){"use strict";var r=n(5),i=n(8),o=n(24);var c=n(49),u=n(79);function a(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a((function(n){var r=new i.b;return r.add(t.schedule((function(){var i=e[Symbol.asyncIterator]();r.add(t.schedule((function(){var e=this;i.next().then((function(t){t.done?n.complete():(n.next(t.value),e.schedule())}))})))}))),r}))}var s=n(74),f=n(75),l=n(50),d=n(77),h=n(76),b=n(81),p=n(36);function v(e,t){if(null!=e){if(Object(s.a)(e))return function(e,t){return new r.a((function(n){var r=new i.b;return r.add(t.schedule((function(){var i=e[o.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Object(l.a)(e))return Object(c.a)(e,t);if(Object(f.a)(e))return function(e,t){return new r.a((function(n){return t.schedule((function(){return e.then((function(e){n.add(t.schedule((function(){n.next(e),n.add(t.schedule((function(){return n.complete()})))})))}),(function(e){n.add(t.schedule((function(){return n.error(e)})))}))}))}))}(e,t);if(Object(h.a)(e))return a(e,t);if(Object(d.a)(e))return Object(u.a)(e,t);if(Object(p.a)(e))return function(e,t){return a(Object(p.b)(e),t)}(e,t)}throw Object(b.a)(e)}n.d(t,"a",(function(){return v}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(23),i=n(73);function o(e){i.a.setTimeout((function(){var t=r.a.onUnhandledError;if(!t)throw e;t(e)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),i={setTimeout:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=i.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,Object(r.h)([],Object(r.g)(e)))},clearTimeout:function(e){var t=i.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(24),i=n(3);function o(e){return Object(i.a)(e[r.a])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){return Object(r.a)(null==e?void 0:e.then)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){return Symbol.asyncIterator&&Object(r.a)(null==e?void 0:e[Symbol.asyncIterator])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(78),i=n(3);function o(e){return Object(i.a)(null==e?void 0:e[r.a])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(5),i=n(78),o=n(3),c=n(80);function u(e,t){return new r.a((function(n){var r;return n.add(t.schedule((function(){r=e[i.a](),Object(c.a)(n,t,(function(){var e=r.next(),t=e.value;e.done?n.complete():(n.next(t),this.schedule())}))}))),function(){return Object(o.a)(null==r?void 0:r.return)&&r.return()}}))}},function(e,t,n){"use strict";function r(e,t,n,r){void 0===r&&(r=0);var i=t.schedule((function(){try{n.call(this)}catch(t){e.error(t)}}),r);return e.add(i),i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=Array.isArray,i=Object.getPrototypeOf,o=Object.prototype,c=Object.keys;function u(e){if(1===e.length){var t=e[0];if(r(t))return{args:t,keys:null};if((u=t)&&"object"==typeof u&&i(u)===o){var n=c(t);return{args:n.map((function(e){return t[e]})),keys:n}}}var u;return{args:e,keys:null}}},function(e,t,n){"use strict";function r(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){return function(n,r){return!e.call(t,n,r)}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(161),t)},function(e,t,n){"use strict";const r=new TextDecoder,i=new TextEncoder;e.exports={decodeText:e=>r.decode(e),encodeText:e=>i.encode(e),concat:function(e,t){const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}}},function(e,t,n){"use strict";const{encoding:r}=n(37),i=new TextEncoder;e.exports=function(e,t="utf8"){return"utf8"===t||"utf-8"===t?i.encode(e):"ascii"===t?function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e):r(t).decode(e)}},function(e,t,n){e.exports={encode:n(134),decode:n(135),encodingLength:n(136)}},function(e,t,n){"use strict";var r,i,o,c=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,c=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(c=(o<3?i(c):o>3?i(t,n,c):i(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CommitID=void 0;const l=f(n(56)),d=f(n(37)),h=n(90),b=f(n(88)),p=f(n(39)),v=f(n(38)),y=n(103),m=n(101),g=n(102),w=n(55);function k(e){const[t,n]=g.readVarint(e);if(t!==m.STREAMID_CODEC)throw new Error("fromBytes: invalid streamid, does not include streamid codec");const[r,i]=g.readVarint(n),[o,c]=g.readCid(i);if(0===c.length)throw new Error("No commit information provided");if(1===c.length)return new _(r,o,c[0]);{const[e]=g.readCid(c);return new _(r,o,e)}}function O(e,t=null){if(!t)return null;const n=function(e){try{return new l.default(e)}catch(e){return}}(t);if(n)return e.equals(n)?null:n;if("0"===String(t))return null;throw new Error("Cannot specify commit as a number except to request commit 0 (the genesis commit)")}const j=Symbol.for("@ceramicnetwork/streamid/CommitID");class _{constructor(e,t,n=null){if(this._tag=j,r.set(this,void 0),i.set(this,void 0),o.set(this,void 0),!e&&0!==e)throw new Error("constructor: type required");if(!t)throw new Error("constructor: cid required");a(this,r,"string"==typeof e?h.StreamType.codeByName(e):e),a(this,i,"string"==typeof t?new l.default(t):t),a(this,o,O(s(this,i),n))}static isInstance(e){return"object"==typeof e&&"_tag"in e&&e._tag===j}get baseID(){return new w.StreamID(s(this,r),s(this,i))}get type(){return s(this,r)}get typeName(){return h.StreamType.nameByCode(s(this,r))}get cid(){return s(this,i)}get commit(){return s(this,o)||s(this,i)}get bytes(){var e;const t=b.default.encode(m.STREAMID_CODEC),n=b.default.encode(this.type),r=(null===(e=s(this,o))||void 0===e?void 0:e.bytes)||new Uint8Array([0]);return p.default([t,n,this.cid.bytes,r])}atCommit(e){return new _(s(this,r),s(this,i),e)}equals(e){return this.type===e.type&&this.cid.equals(e.cid)&&this.commit.equals(e.commit)}toString(){return v.default(d.default.encode(m.DEFAULT_BASE,this.bytes))}toUrl(){return"ceramic://"+this.toString()}[(r=new WeakMap,i=new WeakMap,o=new WeakMap,Symbol.for("nodejs.util.inspect.custom"))](){return`CommitID(${this.toString()})`}[Symbol.toPrimitive](){return this.toString()}}_.fromBytes=k,_.fromString=function(e){const t=e.replace("ceramic://","").replace("/ceramic/","");if(t.includes("commit")){const e=t.split("?")[1].split("=")[1],n=t.split("?")[0];return w.StreamID.fromString(n).atCommit(e)}return k(d.default.decode(t))},c([y.Memoize(),u("design:type",w.StreamID),u("design:paramtypes",[])],_.prototype,"baseID",null),c([y.Memoize(),u("design:type",String),u("design:paramtypes",[])],_.prototype,"typeName",null),c([y.Memoize(),u("design:type",l.default),u("design:paramtypes",[])],_.prototype,"commit",null),c([y.Memoize(),u("design:type",Uint8Array),u("design:paramtypes",[])],_.prototype,"bytes",null),c([y.Memoize(),u("design:type",Function),u("design:paramtypes",[]),u("design:returntype",String)],_.prototype,"toString",null),c([y.Memoize(),u("design:type",Function),u("design:paramtypes",[]),u("design:returntype",String)],_.prototype,"toUrl",null),t.CommitID=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamType=void 0;const r={tile:0,"caip10-link":1};class i{}t.StreamType=i,i.nameByCode=function(e){const t=Object.entries(r).find(([,t])=>t===e);if(t)return t[0];throw new Error("No stream type registered for index "+e)},i.codeByName=function(e){const t=r[e];if(void 0!==t)return t;throw new Error("No stream type registered for name "+e)}},function(e,t,n){"use strict";const r=n(138),i=n(39),o=n(100),c=n(87),u=n(38),a=n(139);e.exports={compare:r,concat:i,equals:o,fromString:c,toString:u,xor:a}},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerProviderBase=t.ServiceLoggerBase=t.DiagnosticsLoggerBase=t.LogLevel=t.LogStyle=void 0,function(e){e.verbose="info",e.info="info",e.imp="imp",e.warn="warn",e.err="err"}(r=t.LogStyle||(t.LogStyle={})),function(e){e[e.verbose=0]="verbose",e[e.debug=1]="debug",e[e.important=2]="important",e[e.warn=3]="warn"}(i=t.LogLevel||(t.LogLevel={}));t.DiagnosticsLoggerBase=class{constructor(e,t,n){this.logLevel=e,this.includeStackTrace=this.logLevel<=i.debug,this.logToFiles=t,this.fileLogger=n}write(e){this.debug(e)}verbose(e){this.logLevel>i.verbose||this.log(r.verbose,e)}debug(e){this.logLevel>i.debug||this.log(r.info,e)}imp(e){this.logLevel>i.important||this.log(r.imp,e)}warn(e){this.log(r.warn,e)}err(e){this.log(r.err,e)}log(e,t){throw new Error("Not implmented in base class")}};t.ServiceLoggerBase=class{constructor(e,t,n,r){this.service=e,this.logLevel=t,this.logToFiles=n,this.stream=r,this.logToConsole=this.logLevel<=i.debug}log(e){this.write(this.format(e))}write(e){e=`[${(new Date).toUTCString()}] service=${this.service} ${e}`,this.logToConsole&&console.log(e)}format(e){throw new Error("Not implmented in base class")}};const o={logLevel:i.important,logToFiles:!1};t.LoggerProviderBase=class{constructor(e={},t){if(this.config={logLevel:void 0!==e.logLevel?e.logLevel:o.logLevel,logToFiles:void 0!==e.logToFiles?e.logToFiles:o.logToFiles,logDirectory:e.logDirectory},this._fileLoggerFactory=t,this.config.logToFiles&&!this._fileLoggerFactory)throw new Error("Must provide a FileLoggerFactory in order to log to files");this._diagnosticLogger=this._makeDiagnosticLogger()}_makeDiagnosticLogger(){throw new Error("Not implmented in base class")}getDiagnosticsLogger(){return this._diagnosticLogger}makeServiceLogger(e){throw new Error("Not implmented in base class")}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(163),i=n(58);t.JsonPatchError=i.PatchError,t.deepClone=i._deepClone;var o={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=u(n,this.path);r&&(r=i._deepClone(r));var o=a(n,{op:"remove",path:this.from}).removed;return a(n,{op:"add",path:this.path,value:o}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=u(n,this.from);return a(n,{op:"add",path:this.path,value:i._deepClone(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:r(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},c={add:function(e,t,n){return i.isInteger(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:o.move,copy:o.copy,test:o.test,_get:o._get};function u(e,t){if(""==t)return e;var n={op:"_get",path:t};return a(e,n),n.value}function a(e,n,a,s,f,d){if(void 0===a&&(a=!1),void 0===s&&(s=!0),void 0===f&&(f=!0),void 0===d&&(d=0),a&&("function"==typeof a?a(n,0,e,n.path):l(n,0)),""===n.path){var h={newDocument:e};if("add"===n.op)return h.newDocument=n.value,h;if("replace"===n.op)return h.newDocument=n.value,h.removed=e,h;if("move"===n.op||"copy"===n.op)return h.newDocument=u(e,n.from),"move"===n.op&&(h.removed=e),h;if("test"===n.op){if(h.test=r(e,n.value),!1===h.test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",d,n,e);return h.newDocument=e,h}if("remove"===n.op)return h.removed=e,h.newDocument=null,h;if("_get"===n.op)return n.value=e,h;if(a)throw new t.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",d,n,e);return h}s||(e=i._deepClone(e));var b=(n.path||"").split("/"),p=e,v=1,y=b.length,m=void 0,g=void 0,w=void 0;for(w="function"==typeof a?a:l;;){if(g=b[v],f&&"__proto__"==g)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(a&&void 0===m&&(void 0===p[g]?m=b.slice(0,v).join("/"):v==y-1&&(m=n.path),void 0!==m&&w(n,0,e,m)),v++,Array.isArray(p)){if("-"===g)g=p.length;else{if(a&&!i.isInteger(g))throw new t.JsonPatchError("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",d,n,e);i.isInteger(g)&&(g=~~g)}if(v>=y){if(a&&"add"===n.op&&g>p.length)throw new t.JsonPatchError("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",d,n,e);if(!1===(h=c[n.op].call(n,p,g,e)).test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",d,n,e);return h}}else if(g&&-1!=g.indexOf("~")&&(g=i.unescapePathComponent(g)),v>=y){if(!1===(h=o[n.op].call(n,p,g,e)).test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",d,n,e);return h}p=p[g]}}function s(e,n,r,o,c){if(void 0===o&&(o=!0),void 0===c&&(c=!0),r&&!Array.isArray(n))throw new t.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");o||(e=i._deepClone(e));for(var u=new Array(n.length),s=0,f=n.length;s<f;s++)u[s]=a(e,n[s],r,!0,c,s),e=u[s].newDocument;return u.newDocument=e,u}function f(e,n,r){var i=a(e,n);if(!1===i.test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",r,n,e);return i.newDocument}function l(e,n,r,c){if("object"!=typeof e||null===e||Array.isArray(e))throw new t.JsonPatchError("Operation is not an object","OPERATION_NOT_AN_OBJECT",n,e,r);if(!o[e.op])throw new t.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",n,e,r);if("string"!=typeof e.path)throw new t.JsonPatchError("Operation `path` property is not a string","OPERATION_PATH_INVALID",n,e,r);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new t.JsonPatchError('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",n,e,r);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new t.JsonPatchError("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",n,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new t.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",n,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&i.hasUndefined(e.value))throw new t.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",n,e,r);if(r)if("add"==e.op){var u=e.path.split("/").length,a=c.split("/").length;if(u!==a+1&&u!==a)throw new t.JsonPatchError("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",n,e,r)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==c)throw new t.JsonPatchError("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",n,e,r)}else if("move"===e.op||"copy"===e.op){var s=d([{op:"_get",path:e.from,value:void 0}],r);if(s&&"OPERATION_PATH_UNRESOLVABLE"===s.name)throw new t.JsonPatchError("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",n,e,r)}}function d(e,n,r){try{if(!Array.isArray(e))throw new t.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(n)s(i._deepClone(n),i._deepClone(e),r||!0);else{r=r||l;for(var o=0;o<e.length;o++)r(e[o],o,n,void 0)}}catch(e){if(e instanceof t.JsonPatchError)return e;throw e}}t.getValueByPointer=u,t.applyOperation=a,t.applyPatch=s,t.applyReducer=f,t.validator=l,t.validate=d,t.default={JsonPatchError:t.JsonPatchError,deepClone:t.deepClone,getValueByPointer:u,applyOperation:a,applyPatch:s,applyReducer:f,validator:l,validate:d}},function(e,t){var n="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,c="ArrayBuffer"in e;if(c)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&u.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function b(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function p(e){var t=new FileReader,n=b(t);return t.readAsArrayBuffer(e),n}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e,t,n,r=h(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=b(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=s(e),t=f(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},d.prototype.delete=function(e){delete this.map[s(e)]},d.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},d.prototype.set=function(e,t){this.map[s(e)]=f(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),l(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),l(e)},r&&(d.prototype[Symbol.iterator]=d.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){var n,r,i=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),m.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function k(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},y.call(g.prototype),y.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},k.error=function(){var e=new k(null,{status:0,statusText:""});return e.type="error",e};var O=[301,302,303,307,308];k.redirect=function(e,t){if(-1===O.indexOf(t))throw new RangeError("Invalid status code");return new k(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function j(e,n){return new Promise((function(r,o){var c=new g(e,n);if(c.signal&&c.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function a(){u.abort()}u.onload=function(){var e,t,n={status:u.status,statusText:u.statusText,headers:(e=u.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in u?u.responseURL:n.headers.get("X-Request-URL");var i="response"in u?u.response:u.responseText;r(new k(i,n))},u.onerror=function(){o(new TypeError("Network request failed"))},u.ontimeout=function(){o(new TypeError("Network request failed"))},u.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},u.open(c.method,c.url,!0),"include"===c.credentials?u.withCredentials=!0:"omit"===c.credentials&&(u.withCredentials=!1),"responseType"in u&&i&&(u.responseType="blob"),c.headers.forEach((function(e,t){u.setRequestHeader(t,e)})),c.signal&&(c.signal.addEventListener("abort",a),u.onreadystatechange=function(){4===u.readyState&&c.signal.removeEventListener("abort",a)}),u.send(void 0===c._bodyInit?null:c._bodyInit)}))}j.polyfill=!0,e.fetch||(e.fetch=j,e.Headers=d,e.Request=g,e.Response=k),t.Headers=d,t.Request=g,t.Response=k,t.fetch=j,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(171),t)},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(172)),r(n(110))},function(e,t,n){"use strict";const r=n(37),i=n(122),{names:o}=n(126),c=n(38),u=n(87),a=n(39),s={};for(const e in o){const t=e;s[o[t]]=t}function f(e){if(!(e instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(e.length<2)throw new Error("multihash too short. must be > 2 bytes.");const t=i.decode(e);if(!h(t))throw new Error("multihash unknown function code: 0x"+t.toString(16));e=e.slice(i.decode.bytes);const n=i.decode(e);if(n<0)throw new Error("multihash invalid length: "+n);if((e=e.slice(i.decode.bytes)).length!==n)throw new Error("multihash length inconsistent: 0x"+c(e,"base16"));return{code:t,name:s[t],length:n,digest:e}}function l(e){let t=e;if("string"==typeof e){if(void 0===o[e])throw new Error("Unrecognized hash function named: "+e);t=o[e]}if("number"!=typeof t)throw new Error("Hash function code should be a number. Got: "+t);if(void 0===s[t]&&!d(t))throw new Error("Unrecognized function code: "+t);return t}function d(e){return e>0&&e<16}function h(e){return!!d(e)||!!s[e]}function b(e){f(e)}Object.freeze(s),e.exports={names:o,codes:s,toHexString:function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return c(e,"base16")},fromHexString:function(e){return u(e,"base16")},toB58String:function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return c(r.encode("base58btc",e)).slice(1)},fromB58String:function(e){const t=e instanceof Uint8Array?c(e):e;return r.decode("z"+t)},decode:f,encode:function(e,t,n){if(!e||void 0===t)throw new Error("multihash encode requires at least two args: digest, code");const r=l(t);if(!(e instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(null==n&&(n=e.length),n&&e.length!==n)throw new Error("digest length should be equal to specified length.");const o=i.encode(r),c=i.encode(n);return a([o,c,e],o.length+c.length+e.length)},coerceCode:l,isAppCode:d,validate:b,prefix:function(e){return b(e),e.subarray(0,2)},isValidCode:h}},function(e,t,n){e.exports={encode:n(128),decode:n(129),encodingLength:n(130)}},function(e,t,n){"use strict";const r=n(98),i=n(38),o=n(87);function c(e){return parseInt(i(e,"base16"),16)}e.exports={numberToUint8Array:function(e){let t=e.toString(16);t.length%2==1&&(t="0"+t);return o(t,"base16")},uint8ArrayToNumber:c,varintUint8ArrayEncode:function(e){return Uint8Array.from(r.encode(c(e)))},varintEncode:function(e){return Uint8Array.from(r.encode(e))}}},function(e,t,n){"use strict";e.exports=function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_BASE=t.STREAMID_CODEC=void 0,t.STREAMID_CODEC=206,t.DEFAULT_BASE="base36"},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.readCid=t.readVarint=void 0;const i=r(n(56)),o=r(n(88));function c(e){const t=o.default.decode(e),n=o.default.decode.bytes;return[t,e.slice(n),n]}t.readVarint=c,t.readCid=function(e){const[t,n]=c(e);if(0!==(r=t)&&1!==r)throw new Error("Unknown CID version "+t);var r;const[o,u]=c(n),[,a,s]=c(u),[f,,l]=c(a),d=u.slice(0,s+l+f),h=u.slice(s+l+f);return[new i.default(t,o,d),h]}},function(e,t,n){"use strict";function r(e){return(t,n,r)=>{if(null!=r.value)r.value=c(r.value,e);else{if(null==r.get)throw"Only put a Memoize() decorator on a method or get accessor.";r.get=c(r.get,e)}}}function i(e,t){return(n,r,i)=>{if(null!=i.value)i.value=c(i.value,t,e);else{if(null==i.get)throw"Only put a Memoize() decorator on a method or get accessor.";i.get=c(i.get,t,e)}}}n.r(t),n.d(t,"Memoize",(function(){return r})),n.d(t,"MemoizeExpiring",(function(){return i}));let o=0;function c(e,t,n=0){const r=++o;return function(...i){const o="__memoized_value_"+r,c="__memoized_map_"+r;let u;if(t||i.length>0||n>0){this.hasOwnProperty(c)||Object.defineProperty(this,c,{configurable:!1,enumerable:!1,writable:!1,value:new Map});let r,o=this[c];r=!0===t?i.map(e=>e.toString()).join("!"):t?t.apply(this,i):i[0];const a=r+"__timestamp";let s=!1;if(n>0)if(o.has(a)){let e=o.get(a);s=Date.now()-e>n}else s=!0;o.has(r)&&!s?u=o.get(r):(u=e.apply(this,i),o.set(r,u),n>0&&o.set(a,Date.now()))}else this.hasOwnProperty(o)?u=this[o]:(u=e.apply(this,i),Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:u}));return u}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncOptions=void 0,function(e){e[e.PREFER_CACHE=0]="PREFER_CACHE",e[e.SYNC_ALWAYS=1]="SYNC_ALWAYS",e[e.NEVER_SYNC=2]="NEVER_SYNC"}(t.SyncOptions||(t.SyncOptions={}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StreamStatic=t.Stream=t.CommitType=t.AnchorStatus=t.SignatureStatus=void 0;const i=r(n(106)),o=n(31),c=n(59),u=n(104);var a;!function(e){e[e.GENESIS=0]="GENESIS",e[e.PARTIAL=1]="PARTIAL",e[e.SIGNED=2]="SIGNED"}(t.SignatureStatus||(t.SignatureStatus={})),function(e){e[e.NOT_REQUESTED=0]="NOT_REQUESTED",e[e.PENDING=1]="PENDING",e[e.PROCESSING=2]="PROCESSING",e[e.ANCHORED=3]="ANCHORED",e[e.FAILED=4]="FAILED"}(t.AnchorStatus||(t.AnchorStatus={})),function(e){e[e.GENESIS=0]="GENESIS",e[e.SIGNED=1]="SIGNED",e[e.ANCHOR=2]="ANCHOR"}(a=t.CommitType||(t.CommitType={}));class s extends c.Observable{constructor(e,t){super(t=>{e.subscribe(t)}),this.state$=e,this._context=t}get id(){return new o.StreamID(this.state$.value.type,this.state$.value.log[0].cid)}get api(){return this._context.api}get metadata(){var e;const{next:t,metadata:n}=this.state$.value;return i.default(null!==(e=null==t?void 0:t.metadata)&&void 0!==e?e:n)}get controllers(){return this.metadata.controllers}get tip(){return this.state$.value.log[this.state$.value.log.length-1].cid}get commitId(){return this.id.atCommit(this.tip)}get allCommitIds(){return this.state$.value.log.map(({cid:e})=>this.id.atCommit(e))}get anchorCommitIds(){return this.state$.value.log.filter(({type:e})=>e===a.ANCHOR).map(({cid:e})=>this.id.atCommit(e))}get state(){return i.default(this.state$.value)}async sync(e={}){e={sync:u.SyncOptions.PREFER_CACHE,...e};const t=await this.api.loadStream(this.id,e);this.state$.next(t.state)}_getContent(){var e;const{next:t,content:n}=this.state$.value;return i.default(null!==(e=null==t?void 0:t.content)&&void 0!==e?e:n)}}t.Stream=s,t.StreamStatic=function(){return e=>{}}},function(e,t,n){(function(e,n){var r="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",c="[object Map]",u="[object Set]",a=/\w*$/,s=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,l={};l[r]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object DataView]"]=l["[object Boolean]"]=l["[object Date]"]=l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l[c]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l[u]=l["[object String]"]=l["[object Symbol]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Error]"]=l[i]=l["[object WeakMap]"]=!1;var d="object"==typeof e&&e&&e.Object===Object&&e,h="object"==typeof self&&self&&self.Object===Object&&self,b=d||h||Function("return this")(),p=t&&!t.nodeType&&t,v=p&&"object"==typeof n&&n&&!n.nodeType&&n,y=v&&v.exports===p;function m(e,t){return e.set(t[0],t[1]),e}function g(e,t){return e.add(t),e}function w(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function k(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function O(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function j(e,t){return function(n){return e(t(n))}}function _(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var E,S=Array.prototype,x=Function.prototype,A=Object.prototype,C=b["__core-js_shared__"],P=(E=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",I=x.toString,T=A.hasOwnProperty,D=A.toString,R=RegExp("^"+I.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=y?b.Buffer:void 0,U=b.Symbol,M=b.Uint8Array,L=j(Object.getPrototypeOf,Object),F=Object.create,B=A.propertyIsEnumerable,z=S.splice,V=Object.getOwnPropertySymbols,q=N?N.isBuffer:void 0,$=j(Object.keys,Object),J=ve(b,"DataView"),H=ve(b,"Map"),G=ve(b,"Promise"),Y=ve(b,"Set"),W=ve(b,"WeakMap"),K=ve(Object,"create"),Q=ke(J),X=ke(H),Z=ke(G),ee=ke(Y),te=ke(W),ne=U?U.prototype:void 0,re=ne?ne.valueOf:void 0;function ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ce(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ue(e){this.__data__=new oe(e)}function ae(e,t){var n=je(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&_e(e)}(e)&&T.call(e,"callee")&&(!B.call(e,"callee")||D.call(e)==r)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],i=n.length,o=!!i;for(var c in e)!t&&!T.call(e,c)||o&&("length"==c||ge(c,i))||n.push(c);return n}function se(e,t,n){var r=e[t];T.call(e,t)&&Oe(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function fe(e,t){for(var n=e.length;n--;)if(Oe(e[n][0],t))return n;return-1}function le(e,t,n,s,f,d,h){var b;if(s&&(b=d?s(e,f,d,h):s(e)),void 0!==b)return b;if(!xe(e))return e;var p=je(e);if(p){if(b=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&T.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,b)}else{var v=me(e),y=v==i||v==o;if(Ee(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if("[object Object]"==v||v==r||y&&!d){if(k(e))return d?e:{};if(b=function(e){return"function"!=typeof e.constructor||we(e)?{}:(t=L(e),xe(t)?F(t):{});var t}(y?{}:e),!t)return function(e,t){return be(e,ye(e),t)}(e,function(e,t){return e&&be(t,Ae(t),e)}(b,e))}else{if(!l[v])return d?e:{};b=function(e,t,n,r){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return he(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return function(e,t){var n=t?he(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var n=t?he(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case c:return function(e,t,n){return w(t?n(O(e),!0):O(e),m,new e.constructor)}(e,r,n);case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,a.exec(e));return t.lastIndex=e.lastIndex,t}(e);case u:return function(e,t,n){return w(t?n(_(e),!0):_(e),g,new e.constructor)}(e,r,n);case"[object Symbol]":return o=e,re?Object(re.call(o)):{}}var o}(e,v,le,t)}}h||(h=new ue);var j=h.get(e);if(j)return j;if(h.set(e,b),!p)var E=n?function(e){return function(e,t,n){var r=t(e);return je(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Ae,ye)}(e):Ae(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(E||e,(function(r,i){E&&(r=e[i=r]),se(b,i,le(r,t,n,s,i,e,h))})),b}function de(e){return!(!xe(e)||(t=e,P&&P in t))&&(Se(e)||k(e)?R:s).test(ke(e));var t}function he(e){var t=new e.constructor(e.byteLength);return new M(t).set(new M(e)),t}function be(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var c=t[i],u=r?r(n[c],e[c],c,n,e):void 0;se(n,c,void 0===u?e[c]:u)}return n}function pe(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ve(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return de(n)?n:void 0}ie.prototype.clear=function(){this.__data__=K?K(null):{}},ie.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ie.prototype.get=function(e){var t=this.__data__;if(K){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return T.call(t,e)?t[e]:void 0},ie.prototype.has=function(e){var t=this.__data__;return K?void 0!==t[e]:T.call(t,e)},ie.prototype.set=function(e,t){return this.__data__[e]=K&&void 0===t?"__lodash_hash_undefined__":t,this},oe.prototype.clear=function(){this.__data__=[]},oe.prototype.delete=function(e){var t=this.__data__,n=fe(t,e);return!(n<0)&&(n==t.length-1?t.pop():z.call(t,n,1),!0)},oe.prototype.get=function(e){var t=this.__data__,n=fe(t,e);return n<0?void 0:t[n][1]},oe.prototype.has=function(e){return fe(this.__data__,e)>-1},oe.prototype.set=function(e,t){var n=this.__data__,r=fe(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},ce.prototype.clear=function(){this.__data__={hash:new ie,map:new(H||oe),string:new ie}},ce.prototype.delete=function(e){return pe(this,e).delete(e)},ce.prototype.get=function(e){return pe(this,e).get(e)},ce.prototype.has=function(e){return pe(this,e).has(e)},ce.prototype.set=function(e,t){return pe(this,e).set(e,t),this},ue.prototype.clear=function(){this.__data__=new oe},ue.prototype.delete=function(e){return this.__data__.delete(e)},ue.prototype.get=function(e){return this.__data__.get(e)},ue.prototype.has=function(e){return this.__data__.has(e)},ue.prototype.set=function(e,t){var n=this.__data__;if(n instanceof oe){var r=n.__data__;if(!H||r.length<199)return r.push([e,t]),this;n=this.__data__=new ce(r)}return n.set(e,t),this};var ye=V?j(V,Object):function(){return[]},me=function(e){return D.call(e)};function ge(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||f.test(e))&&e>-1&&e%1==0&&e<t}function we(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||A)}function ke(e){if(null!=e){try{return I.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Oe(e,t){return e===t||e!=e&&t!=t}(J&&"[object DataView]"!=me(new J(new ArrayBuffer(1)))||H&&me(new H)!=c||G&&"[object Promise]"!=me(G.resolve())||Y&&me(new Y)!=u||W&&"[object WeakMap]"!=me(new W))&&(me=function(e){var t=D.call(e),n="[object Object]"==t?e.constructor:void 0,r=n?ke(n):void 0;if(r)switch(r){case Q:return"[object DataView]";case X:return c;case Z:return"[object Promise]";case ee:return u;case te:return"[object WeakMap]"}return t});var je=Array.isArray;function _e(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!Se(e)}var Ee=q||function(){return!1};function Se(e){var t=xe(e)?D.call(e):"";return t==i||t==o}function xe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ae(e){return _e(e)?ae(e):function(e){if(!we(e))return $(e);var t=[];for(var n in Object(e))T.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}n.exports=function(e){return le(e,!0,!0)}}).call(this,n(144),n(145)(e))},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StreamUtils=void 0;const u=c(n(56)),a=c(n(106)),s=o(n(91)),f=n(105),l=n(31);class d{static serializeCommit(e){const t=a.default(e);return d.isSignedCommitContainer(t)?(t.jws.link=t.jws.link.toString(),t.linkedBlock=s.toString(t.linkedBlock,"base64"),t):(d.isSignedCommit(e)&&(t.link=t.link.toString()),d.isAnchorCommit(e)&&(t.proof=t.proof.toString()),t.id&&(t.id=t.id.toString()),t.prev&&(t.prev=t.prev.toString()),t)}static deserializeCommit(e){const t=a.default(e);return d.isSignedCommitContainer(t)?(t.jws.link=new u.default(t.jws.link),t.linkedBlock=s.fromString(t.linkedBlock,"base64"),t):(d.isSignedCommit(t)&&(t.link=new u.default(t.link)),d.isAnchorCommit(t)&&(t.proof=new u.default(t.proof)),t.id&&(t.id=new u.default(t.id)),t.prev&&(t.prev=new u.default(t.prev)),t)}static serializeState(e){const t=a.default(e);return t.log=t.log.map(e=>({...e,cid:e.cid.toString()})),null!=t.anchorStatus&&(t.anchorStatus=f.AnchorStatus[t.anchorStatus]),null!=t.anchorScheduledFor&&(t.anchorScheduledFor=new Date(t.anchorScheduledFor).toISOString()),null!=t.anchorProof&&(t.anchorProof.txHash=t.anchorProof.txHash.toString(),t.anchorProof.root=t.anchorProof.root.toString()),null!=t.lastAnchored&&(t.lastAnchored=t.lastAnchored.toString()),t.doctype=l.StreamType.nameByCode(t.type),t}static deserializeState(e){const t=a.default(e);t.doctype&&(t.type=l.StreamType.codeByName(t.doctype),delete t.doctype),t.log=t.log.map(e=>({...e,cid:new u.default(e.cid)})),t.anchorProof&&(t.anchorProof.txHash=new u.default(t.anchorProof.txHash),t.anchorProof.root=new u.default(t.anchorProof.root));let n=!0;return t.anchorStatus&&(t.anchorStatus=f.AnchorStatus[t.anchorStatus],n=t.anchorStatus!==f.AnchorStatus.FAILED&&t.anchorStatus!==f.AnchorStatus.ANCHORED),t.anchorScheduledFor&&(n?t.anchorScheduledFor=Date.parse(t.anchorScheduledFor):delete t.anchorScheduledFor),t.lastAnchored&&(t.lastAnchored=new u.default(t.lastAnchored)),t}static statesEqual(e,t){return JSON.stringify(d.serializeState(e))===JSON.stringify(d.serializeState(t))}static isStateSupersetOf(e,t){if(e.log.length<t.log.length)return!1;for(const n in t.log)if(!e.log[n].cid.equals(t.log[n].cid))return!1;return!0}static async convertCommitToSignedCommitContainer(e,t){if(d.isSignedCommit(e)){return{jws:e,linkedBlock:(await t.block.get(e.link)).data}}return e}static isSignedCommitContainer(e){return e&&void 0!==e.jws}static isSignedCommit(e){return e&&void 0!==e.link}static isAnchorCommit(e){return e&&void 0!==e.proof}}t.StreamUtils=d},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceLogger=t.DiagnosticsLogger=void 0;const i=n(92),o=r(n(149)),c={info:console.log,imp:console.log,warn:console.warn,err:console.error};class u extends i.DiagnosticsLoggerBase{constructor(e){super(e,!1),this.logger=c}log(e,t){this.logger[e](t)}}t.DiagnosticsLogger=u;class a extends i.ServiceLoggerBase{constructor(e,t){super(e,t,!1)}format(e){return JSON.stringify(o.default(e))}}t.ServiceLogger=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(111),i=n(112);class o{constructor(e){"string"==typeof e&&(e=o.parse(e)),this.namespace=e.namespace,this.reference=e.reference}static parse(e){if(!i.isValidId(e,this.spec))throw new Error(`Invalid ${this.spec.name} provided: ${e}`);return new o(i.getParams(e,this.spec)).toJson()}static format(e){return i.joinParams(e,this.spec)}toString(){return o.format(this.toJson())}toJson(){return{namespace:this.namespace,reference:this.reference}}}t.ChainID=o,o.spec=r.CAIP[2]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={name:"chainId",regex:"[-:a-zA-Z0-9]{5,64}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,16}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,47}"}}}},i={name:"accountId",regex:"[-@:a-zA-Z0-9]{7,128}",parameters:{delimiter:"@",values:{0:{name:"address",regex:"[a-zA-Z0-9]{1,63}"},1:r}}};t.CAIP={2:r,10:i}},function(e,t,n){"use strict";function r(e,t){return e.split(t.parameters.delimiter)}Object.defineProperty(t,"__esModule",{value:!0}),t.splitParams=r,t.getParams=function(e,t){const n=r(e,t),i={};return n.forEach((e,n)=>{i[t.parameters.values[n].name]=e}),i},t.joinParams=function e(t,n){return Object.values(n.parameters.values).map(n=>{const r=t[n.name];return"string"==typeof r?r:e(r,n)}).join(n.parameters.delimiter)},t.isValidId=function(e,t){if(!new RegExp(t.regex).test(e))return!1;const n=r(e,t);return n.length===Object.keys(t.parameters.values).length&&n.map((e,n)=>new RegExp(t.parameters.values[n].regex).test(e)).filter(e=>!!e).length===n.length}},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(4),o=n(2);function c(e){return Object(r.b)((function(t,n){var r=!1,c=null,u=null,a=!1,s=function(){if(null==u||u.unsubscribe(),u=null,r){r=!1;var e=c;c=null,n.next(e)}a&&n.complete()},f=function(){u=null,a&&n.complete()};t.subscribe(new o.a(n,(function(t){r=!0,c=t,u||Object(i.c)(e(t)).subscribe(u=new o.a(n,s,f))}),(function(){a=!0,(!r||!u||u.closed)&&n.complete()})))}))}var u=n(11),a=n(26);function s(e,t){return void 0===t&&(t=u.a),c((function(){return Object(a.a)(e,t)}))}var f=n(6);function l(e){return Object(r.b)((function(t,n){var r=[];return t.subscribe(new o.a(n,(function(e){return r.push(e)}),(function(){n.next(r),n.complete()}))),e.subscribe(new o.a(n,(function(){var e=r;r=[],n.next(e)}),f.a)),function(){r=null}}))}var d=n(0),h=n(14);function b(e,t){return void 0===t&&(t=null),t=null!=t?t:e,Object(r.b)((function(n,r){var i=[],c=0;n.subscribe(new o.a(r,(function(n){var o,u,a,s,f=null;c++%t==0&&i.push([]);try{for(var l=Object(d.i)(i),b=l.next();!b.done;b=l.next()){(y=b.value).push(n),e<=y.length&&(f=null!=f?f:[]).push(y)}}catch(e){o={error:e}}finally{try{b&&!b.done&&(u=l.return)&&u.call(l)}finally{if(o)throw o.error}}if(f)try{for(var p=Object(d.i)(f),v=p.next();!v.done;v=p.next()){var y=v.value;Object(h.a)(i,y),r.next(y)}}catch(e){a={error:e}}finally{try{v&&!v.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}}),(function(){var e,t;try{for(var n=Object(d.i)(i),o=n.next();!o.done;o=n.next()){var c=o.value;r.next(c)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}r.complete()}),void 0,(function(){i=null})))}))}var p=n(8),v=n(10);function y(e){for(var t,n,i=[],c=1;c<arguments.length;c++)i[c-1]=arguments[c];var a=null!==(t=Object(v.c)(i))&&void 0!==t?t:u.b,s=null!==(n=i[0])&&void 0!==n?n:null,f=i[1]||1/0;return Object(r.b)((function(t,n){var r=[],i=!1,c=function(e){var t=e.buffer;e.subs.unsubscribe(),Object(h.a)(r,e),n.next(t),i&&u()},u=function(){if(r){var t=new p.b;n.add(t);var i={buffer:[],subs:t};r.push(i),t.add(a.schedule((function(){return c(i)}),e))}};null!==s&&s>=0?n.add(a.schedule((function(){u(),!this.closed&&n.add(this.schedule(null,s))}),s)):i=!0,u();var l=new o.a(n,(function(e){var t,n,i=r.slice();try{for(var o=Object(d.i)(i),u=o.next();!u.done;u=o.next()){var a=u.value,s=a.buffer;s.push(e),f<=s.length&&c(a)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}),(function(){for(;null==r?void 0:r.length;)n.next(r.shift().buffer);null==l||l.unsubscribe(),n.complete(),n.unsubscribe()}),void 0,(function(){return r=null}));t.subscribe(l)}))}function m(e,t){return Object(r.b)((function(n,r){var c=[];Object(i.c)(e).subscribe(new o.a(r,(function(e){var n=[];c.push(n);var u=new p.b;u.add(Object(i.c)(t(e)).subscribe(new o.a(r,(function(){Object(h.a)(c,n),r.next(n),u.unsubscribe()}),f.a)))}),f.a)),n.subscribe(new o.a(r,(function(e){var t,n;try{for(var r=Object(d.i)(c),i=r.next();!i.done;i=r.next()){i.value.push(e)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}),(function(){for(;c.length>0;)r.next(c.shift());r.complete()})))}))}function g(e){return Object(r.b)((function(t,n){var r=null,c=null,u=function(){null==c||c.unsubscribe();var t=r;r=[],t&&n.next(t),Object(i.c)(e()).subscribe(c=new o.a(n,u,f.a))};u(),t.subscribe(new o.a(n,(function(e){return null==r?void 0:r.push(e)}),(function(){r&&n.next(r),n.complete()}),void 0,(function(){return r=c=null})))}))}function w(e){return Object(r.b)((function(t,n){var r,c=null,u=!1;c=t.subscribe(new o.a(n,void 0,void 0,(function(o){r=Object(i.c)(e(o,w(e)(t))),c?(c.unsubscribe(),c=null,r.subscribe(n)):u=!0}))),u&&(c.unsubscribe(),c=null,r.subscribe(n))}))}var k=n(44),O=n(9),j=n(19),_=n(32),E=n(13);function S(e,t,n,r,i){return function(c,u){var a=n,s=t,f=0;c.subscribe(new o.a(u,(function(t){var n=f++;s=a?e(s,t,n):(a=!0,t),r&&u.next(s)}),i&&function(){a&&u.next(s),u.complete()}))}}function x(e,t){return Object(r.b)(S(e,t,arguments.length>=2,!1,!0))}var A=function(e,t){return e.push(t),e};function C(){return Object(r.b)((function(e,t){x(A,[])(e).subscribe(t)}))}function P(e,t){return Object(_.a)(C(),Object(E.a)((function(t){return e(t)})),t?Object(j.a)(t):O.a)}function I(e){return P(k.a,e)}var T=I,D=n(20);function R(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(v.b)(e);return n?Object(_.a)(R.apply(void 0,Object(d.h)([],Object(d.g)(e))),Object(j.a)(n)):Object(r.b)((function(t,n){Object(k.b)(Object(d.h)([t],Object(d.g)(Object(D.a)(e))))(n)}))}function N(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return R.apply(void 0,Object(d.h)([],Object(d.g)(e)))}var U=n(45),M=n(21);function L(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(v.c)(e);return Object(r.b)((function(t,r){Object(U.a)()(Object(M.a)(Object(d.h)([t],Object(d.g)(e)),n)).subscribe(r)}))}var F=n(3);function B(e,t){return Object(F.a)(t)?Object(E.a)(e,t,1):Object(E.a)(e,1)}function z(e,t){return Object(F.a)(t)?B((function(){return e}),t):B((function(){return e}))}function V(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return L.apply(void 0,Object(d.h)([],Object(d.g)(e)))}var q=n(7),$=n(5);var J={connector:function(){return new q.a}};function H(e,t){void 0===t&&(t=J);var n=t.connector;return Object(r.b)((function(t,r){var o,c=n();Object(i.a)(e((o=c,new $.a((function(e){return o.subscribe(e)}))))).subscribe(r),r.add(t.subscribe(c))}))}function G(e){return x((function(t,n,r){return!e||e(n,r)?t+1:t}),0)}function Y(e){return Object(r.b)((function(t,n){var r=!1,c=null,u=null,a=function(){if(null==u||u.unsubscribe(),u=null,r){r=!1;var e=c;c=null,n.next(e)}};t.subscribe(new o.a(n,(function(t){null==u||u.unsubscribe(),r=!0,c=t,u=new o.a(n,a,f.a),Object(i.c)(e(t)).subscribe(u)}),(function(){a(),n.complete()}),void 0,(function(){c=u=null})))}))}function W(e,t){return void 0===t&&(t=u.b),Object(r.b)((function(n,r){var i=null,c=null,u=null,a=function(){if(i){i.unsubscribe(),i=null;var e=c;c=null,r.next(e)}};function s(){var n=u+e,r=t.now();r<n?i=this.schedule(void 0,n-r):a()}n.subscribe(new o.a(r,(function(n){c=n,u=t.now(),i||(i=t.schedule(s,e))}),(function(){a(),r.complete()}),void 0,(function(){c=i=null})))}))}function K(e){return Object(r.b)((function(t,n){var r=!1;t.subscribe(new o.a(n,(function(e){r=!0,n.next(e)}),(function(){r||n.next(e),n.complete()})))}))}var Q=n(30),X=n(12);function Z(e){return e<=0?function(){return X.a}:Object(r.b)((function(t,n){var r=0;t.subscribe(new o.a(n,(function(t){++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}function ee(){return Object(r.b)((function(e,t){e.subscribe(new o.a(t,f.a))}))}var te=n(15);function ne(e){return Object(te.a)((function(){return e}))}function re(e,t){return t?function(n){return Object(Q.a)(t.pipe(Z(1),ee()),n.pipe(re(e)))}:Object(E.a)((function(t,n){return e(t,n).pipe(Z(1),ne(t))}))}function ie(e,t){void 0===t&&(t=u.b);var n=Object(a.a)(e,t);return re((function(){return n}))}var oe=n(29);function ce(){return Object(r.b)((function(e,t){e.subscribe(new o.a(t,(function(e){return Object(oe.c)(e,t)})))}))}function ue(e,t){return Object(r.b)((function(n,r){var i=new Set;n.subscribe(new o.a(r,(function(t){var n=e?e(t):t;i.has(n)||(i.add(n),r.next(t))}))),null==t||t.subscribe(new o.a(r,(function(){return i.clear()}),f.a))}))}function ae(e,t){return void 0===t&&(t=O.a),e=null!=e?e:se,Object(r.b)((function(n,r){var i,c=!0;n.subscribe(new o.a(r,(function(n){var o=t(n);!c&&e(i,o)||(c=!1,i=o,r.next(n))})))}))}function se(e,t){return e===t}function fe(e,t){return ae((function(n,r){return t?t(n[e],r[e]):n[e]===r[e]}))}var le=n(54),de=n(16),he=n(17);function be(e){return void 0===e&&(e=pe),Object(r.b)((function(t,n){var r=!1;t.subscribe(new o.a(n,(function(e){r=!0,n.next(e)}),(function(){return r?n.complete():n.error(e())})))}))}function pe(){return new he.a}function ve(e,t){if(e<0)throw new le.a;var n=arguments.length>=2;return function(r){return r.pipe(Object(de.a)((function(t,n){return n===e})),Z(1),n?K(t):be((function(){return new le.a})))}}var ye=n(43);function me(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return Object(Q.a)(t,ye.a.apply(void 0,Object(d.h)([],Object(d.g)(e))))}}function ge(e,t){return Object(r.b)((function(n,r){var i=0;n.subscribe(new o.a(r,(function(o){e.call(t,o,i++,n)||(r.next(!1),r.complete())}),(function(){r.next(!0),r.complete()})))}))}function we(){return Object(r.b)((function(e,t){var n=!1,r=null;e.subscribe(new o.a(t,(function(e){r||(r=Object(i.c)(e).subscribe(new o.a(t,void 0,(function(){r=null,n&&t.complete()}))))}),(function(){n=!0,!r&&t.complete()})))}))}var ke=we;function Oe(e,t){return t?function(n){return n.pipe(Oe((function(n,r){return Object(i.c)(e(n,r)).pipe(Object(te.a)((function(e,i){return t(n,e,r,i)})))})))}:Object(r.b)((function(t,n){var r=0,c=null,u=!1;t.subscribe(new o.a(n,(function(t){c||(c=new o.a(n,void 0,(function(){c=null,u&&n.complete()})),Object(i.c)(e(t,r++)).subscribe(c))}),(function(){u=!0,!c&&n.complete()})))}))}var je=n(52);function _e(e,t,n){return void 0===t&&(t=1/0),t=(t||0)<1?1/0:t,Object(r.b)((function(r,i){return Object(je.a)(r,i,e,t,void 0,!0,n)}))}function Ee(e){return Object(r.b)((function(t,n){try{t.subscribe(n)}finally{n.add(e)}}))}function Se(e,t){return Object(r.b)(xe(e,t,"value"))}function xe(e,t,n){var r="index"===n;return function(n,i){var c=0;n.subscribe(new o.a(i,(function(o){var u=c++;e.call(t,o,u,n)&&(i.next(r?u:o),i.complete())}),(function(){i.next(r?-1:void 0),i.complete()})))}}function Ae(e,t){return Object(r.b)(xe(e,t,"index"))}function Ce(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Object(de.a)((function(t,n){return e(t,n,r)})):O.a,Z(1),n?K(t):be((function(){return new he.a})))}}function Pe(e,t,n,c){return Object(r.b)((function(r,u){var a;t&&"function"!=typeof t?(n=t.duration,a=t.element,c=t.connector):a=t;var s=new Map,f=function(e){s.forEach(e),e(u)},l=function(e){return f((function(t){return t.error(e)}))},d=new Ie(u,(function(t){try{var r=e(t),f=s.get(r);if(!f){s.set(r,f=c?c():new q.a);var h=(p=r,v=f,(y=new $.a((function(e){d.activeGroups++;var t=v.subscribe(e);return function(){t.unsubscribe(),0==--d.activeGroups&&d.teardownAttempted&&d.unsubscribe()}}))).key=p,y);if(u.next(h),n){var b=new o.a(f,(function(){f.complete(),null==b||b.unsubscribe()}),void 0,void 0,(function(){return s.delete(r)}));d.add(Object(i.c)(n(h)).subscribe(b))}}f.next(a?a(t):t)}catch(e){l(e)}var p,v,y}),(function(){return f((function(e){return e.complete()}))}),l,(function(){return s.clear()}));r.subscribe(d)}))}var Ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeGroups=0,t.teardownAttempted=!1,t}return Object(d.e)(t,e),t.prototype.unsubscribe=function(){this.teardownAttempted=!0,0===this.activeGroups&&e.prototype.unsubscribe.call(this)},t}(o.a);function Te(){return Object(r.b)((function(e,t){e.subscribe(new o.a(t,(function(){t.next(!1),t.complete()}),(function(){t.next(!0),t.complete()})))}))}function De(e){return e<=0?function(){return X.a}:Object(r.b)((function(t,n){var r=[];t.subscribe(new o.a(n,(function(t){r.push(t),e<r.length&&r.shift()}),(function(){var e,t;try{for(var i=Object(d.i)(r),o=i.next();!o.done;o=i.next()){var c=o.value;n.next(c)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}n.complete()}),void 0,(function(){r=null})))}))}function Re(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Object(de.a)((function(t,n){return e(t,n,r)})):O.a,De(1),n?K(t):be((function(){return new he.a})))}}function Ne(){return Object(r.b)((function(e,t){e.subscribe(new o.a(t,(function(e){t.next(oe.a.createNext(e))}),(function(){t.next(oe.a.createComplete()),t.complete()}),(function(e){t.next(oe.a.createError(e)),t.complete()})))}))}function Ue(e){return x(Object(F.a)(e)?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t})}var Me=n(34);function Le(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(v.c)(e),i=Object(v.a)(e,1/0);return e=Object(D.a)(e),Object(r.b)((function(t,r){Object(Me.a)(i)(Object(M.a)(Object(d.h)([t],Object(d.g)(e)),n)).subscribe(r)}))}var Fe=E.a;function Be(e,t,n){return void 0===n&&(n=1/0),Object(F.a)(t)?Object(E.a)((function(){return e}),t,n):("number"==typeof t&&(n=t),Object(E.a)((function(){return e}),n))}function ze(e,t,n){return void 0===n&&(n=1/0),Object(r.b)((function(r,i){var o=t;return Object(je.a)(r,i,(function(t,n){return e(o,t,n)}),n,(function(e){o=e}),!1,void 0,(function(){return o=null}))}))}function Ve(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Le.apply(void 0,Object(d.h)([],Object(d.g)(e)))}function qe(e){return x(Object(F.a)(e)?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t})}var $e=n(33);function Je(e,t){var n=Object(F.a)(e)?e:function(){return e};return Object(F.a)(t)?H(t,{connector:n}):function(e){return new $e.a(e,n)}}var He=n(67),Ge=n(69);function Ye(){return Object(r.b)((function(e,t){var n,r=!1;e.subscribe(new o.a(t,(function(e){var i=n;n=e,r&&t.next([i,e]),r=!0})))}))}var We=n(84);function Ke(e,t){return function(n){return[Object(de.a)(e,t)(n),Object(de.a)(Object(We.a)(e,t))(n)]}}function Qe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return Object(te.a)((function(t){for(var r=t,i=0;i<n;i++){var o=null==r?void 0:r[e[i]];if(void 0===o)return;r=o}return r}))}function Xe(e){return e?function(t){return H(e)(t)}:function(e){return Je(new q.a)(e)}}var Ze=n(62);function et(e){return function(t){var n=new Ze.a(e);return new $e.a(t,(function(){return n}))}}var tt=n(42);function nt(){return function(e){var t=new tt.a;return new $e.a(e,(function(){return t}))}}var rt=n(41);function it(e,t,n,r){n&&!Object(F.a)(n)&&(r=n);var i=Object(F.a)(n)?n:void 0;return function(n){return Je(new rt.a(e,t,r),i)(n)}}var ot=n(70);function ct(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?Object(r.b)((function(t,n){Object(ot.b)(Object(d.h)([t],Object(d.g)(e)))(n)})):O.a}function ut(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ct.apply(void 0,Object(d.h)([],Object(d.g)(Object(D.a)(e))))}function at(e){return void 0===e&&(e=1/0),e<=0?function(){return X.a}:Object(r.b)((function(t,n){var r,i=0,c=function(){var u=!1;r=t.subscribe(new o.a(n,void 0,(function(){++i<e?r?(r.unsubscribe(),r=null,c()):u=!0:n.complete()}))),u&&(r.unsubscribe(),r=null,c())};c()}))}function st(e){return Object(r.b)((function(t,n){var r,i,c=!1,u=!1,a=!1,s=function(){return a&&u&&(n.complete(),!0)},f=function(){a=!1,r=t.subscribe(new o.a(n,void 0,(function(){a=!0,!s()&&(i||(i=new q.a,e(i).subscribe(new o.a(n,(function(){r?f():c=!0}),(function(){u=!0,s()})))),i).next()}))),c&&(r.unsubscribe(),r=null,c=!1,f())};f()}))}function ft(e){var t;void 0===e&&(e=1/0);var n=(t=e&&"object"==typeof e?e:{count:e}).count,i=t.resetOnSuccess,c=void 0!==i&&i;return n<=0?O.a:Object(r.b)((function(e,t){var r,i=0,u=function(){var a=!1;r=e.subscribe(new o.a(t,(function(e){c&&(i=0),t.next(e)}),void 0,(function(e){i++<n?r?(r.unsubscribe(),r=null,u()):a=!0:t.error(e)}))),a&&(r.unsubscribe(),r=null,u())};u()}))}function lt(e){return Object(r.b)((function(t,n){var r,i,c=!1,u=function(){r=t.subscribe(new o.a(n,void 0,void 0,(function(t){i||(i=new q.a,e(i).subscribe(new o.a(n,(function(){return r?u():c=!0})))),i&&i.next(t)}))),c&&(r.unsubscribe(),r=null,c=!1,u())};u()}))}var dt=n(60);function ht(e){return Object(r.b)((function(t,n){var r=!1,i=null;t.subscribe(new o.a(n,(function(e){r=!0,i=e})));e.subscribe(new o.a(n,(function(){if(r){r=!1;var e=i;i=null,n.next(e)}}),f.a))}))}var bt=n(68);function pt(e,t){return void 0===t&&(t=u.b),ht(Object(bt.a)(e,t))}function vt(e,t){return Object(r.b)(S(e,t,arguments.length>=2,!0))}function yt(e,t){return void 0===t&&(t=function(e,t){return e===t}),Object(r.b)((function(n,r){var i={buffer:[],complete:!1},c={buffer:[],complete:!1},u=function(e){r.next(e),r.complete()},a=function(e,n){var i=new o.a(r,(function(r){var i=n.buffer,o=n.complete;0===i.length?o?u(!1):e.buffer.push(r):!t(r,i.shift())&&u(!1)}),(function(){e.complete=!0;var t=n.complete,r=n.buffer;t&&u(0===r.length),null==i||i.unsubscribe()}));return i};n.subscribe(a(i,c)),e.subscribe(a(c,i))}))}var mt=n(22);function gt(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new q.a}:t,o=e.resetOnError,c=void 0===o||o,u=e.resetOnComplete,a=void 0===u||u,s=e.resetOnRefCountZero,f=void 0===s||s;return function(e){var t=null,o=null,u=null,s=0,l=!1,d=!1,h=function(){null==o||o.unsubscribe(),o=null},b=function(){h(),t=u=null,l=d=!1},p=function(){var e=t;b(),null==e||e.unsubscribe()};return Object(r.b)((function(e,r){s++,d||l||h();var v=u=null!=u?u:n();r.add((function(){0!==--s||d||l||(o=wt(p,f))})),v.subscribe(r),t||(t=new mt.a({next:function(e){return v.next(e)},error:function(e){d=!0,h(),o=wt(b,c,e),v.error(e)},complete:function(){l=!0,h(),o=wt(b,a),v.complete()}}),Object(i.a)(e).subscribe(t))}))(e)}}function wt(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return!0===t?(e(),null):!1===t?null:t.apply(void 0,Object(d.h)([],Object(d.g)(n))).pipe(Z(1)).subscribe((function(){return e()}))}function kt(e,t,n){var r,i,o,c=!1;return e&&"object"==typeof e?(o=null!==(r=e.bufferSize)&&void 0!==r?r:1/0,t=null!==(i=e.windowTime)&&void 0!==i?i:1/0,c=!!e.refCount,n=e.scheduler):o=null!=e?e:1/0,gt({connector:function(){return new rt.a(o,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}var Ot=n(65),jt=n(64);function _t(e){return Object(r.b)((function(t,n){var r,i=!1,c=!1,u=0;t.subscribe(new o.a(n,(function(o){c=!0,e&&!e(o,u++,t)||(i&&n.error(new Ot.a("Too many matching values")),i=!0,r=o)}),(function(){i?(n.next(r),n.complete()):n.error(c?new jt.a("No matching values"):new he.a)})))}))}function Et(e){return Object(de.a)((function(t,n){return e<=n}))}function St(e){return e<=0?O.a:Object(r.b)((function(t,n){var r=new Array(e),i=0;return t.subscribe(new o.a(n,(function(t){var o=i++;if(o<e)r[o]=t;else{var c=o%e,u=r[c];r[c]=t,n.next(u)}}))),function(){r=null}}))}function xt(e){return Object(r.b)((function(t,n){var r=!1,c=new o.a(n,(function(){null==c||c.unsubscribe(),r=!0}),f.a);Object(i.c)(e).subscribe(c),t.subscribe(new o.a(n,(function(e){return r&&n.next(e)})))}))}function At(e){return Object(r.b)((function(t,n){var r=!1,i=0;t.subscribe(new o.a(n,(function(t){return(r||(r=!e(t,i++)))&&n.next(t)})))}))}function Ct(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(v.c)(e);return Object(r.b)((function(t,r){(n?Object(Q.a)(e,t,n):Object(Q.a)(e,t)).subscribe(r)}))}var Pt=n(66);function It(e,t){return Object(r.b)((function(n,r){var c=null,u=0,a=!1,s=function(){return a&&!c&&r.complete()};n.subscribe(new o.a(r,(function(n){null==c||c.unsubscribe();var a=0,f=u++;Object(i.c)(e(n,f)).subscribe(c=new o.a(r,(function(e){return r.next(t?t(n,e,f,a++):e)}),(function(){c=null,s()})))}),(function(){a=!0,s()})))}))}function Tt(){return It(O.a)}function Dt(e,t){return Object(F.a)(t)?It((function(){return e}),t):It((function(){return e}))}function Rt(e,t){return Object(r.b)((function(n,r){var i=t;return It((function(t,n){return e(i,t,n)}),(function(e,t){return i=t,t}))(n).subscribe(r),function(){i=null}}))}function Nt(e){return Object(r.b)((function(t,n){Object(i.c)(e).subscribe(new o.a(n,(function(){return n.complete()}),f.a)),!n.closed&&t.subscribe(n)}))}function Ut(e,t){return void 0===t&&(t=!1),Object(r.b)((function(n,r){var i=0;n.subscribe(new o.a(r,(function(n){var o=e(n,i++);(o||t)&&r.next(n),!o&&r.complete()})))}))}function Mt(e,t,n){var i=Object(F.a)(e)||t||n?{next:e,error:t,complete:n}:e;return i?Object(r.b)((function(e,t){e.subscribe(new o.a(t,(function(e){var n;null===(n=i.next)||void 0===n||n.call(i,e),t.next(e)}),(function(){var e;null===(e=i.complete)||void 0===e||e.call(i),t.complete()}),(function(e){var n;null===(n=i.error)||void 0===n||n.call(i,e),t.error(e)})))})):O.a}var Lt={leading:!0,trailing:!1};function Ft(e,t){var n=void 0===t?Lt:t,c=n.leading,u=n.trailing;return Object(r.b)((function(t,n){var r=!1,a=null,s=null,f=!1,l=function(){null==s||s.unsubscribe(),s=null,u&&(b(),f&&n.complete())},d=function(){s=null,f&&n.complete()},h=function(t){return s=Object(i.c)(e(t)).subscribe(new o.a(n,l,d))},b=function(){if(r){r=!1;var e=a;a=null,n.next(e),!f&&h(e)}};t.subscribe(new o.a(n,(function(e){r=!0,a=e,(!s||s.closed)&&(c?b():h(e))}),(function(){f=!0,(!(u&&r&&s)||s.closed)&&n.complete()})))}))}function Bt(e,t,n){void 0===t&&(t=u.b),void 0===n&&(n=Lt);var r=Object(a.a)(e,t);return Ft((function(){return r}),n)}var zt=n(25);function Vt(e){return void 0===e&&(e=u.a),function(t){return Object(zt.a)((function(){return t.pipe(vt((function(t,n){var r=t.current;return{value:n,current:e.now(),last:r}}),{current:e.now(),value:void 0,last:void 0}),Object(te.a)((function(e){var t=e.current,n=e.last,r=e.value;return new qt(r,t-n)})))}))}}var qt=function(e,t){this.value=e,this.interval=t},$t=n(40),Jt=n(51);function Ht(e,t,n){var r,i,o;if(n=null!=n?n:u.a,Object(Jt.a)(e)?r=e:"number"==typeof e&&(i=e),!t)throw new TypeError("No observable provided to switch to");if(o=function(){return t},null==r&&null==i)throw new TypeError("No timeout provided.");return Object($t.b)({first:r,each:i,scheduler:n,with:o})}var Gt=n(48);function Yt(e){return void 0===e&&(e=Gt.a),Object(te.a)((function(t){return{value:t,timestamp:e.now()}}))}function Wt(e){return Object(r.b)((function(t,n){var r=new q.a;n.next(r.asObservable());var i=function(e){r.error(e),n.error(e)};return t.subscribe(new o.a(n,(function(e){return null==r?void 0:r.next(e)}),(function(){r.complete(),n.complete()}),i)),e.subscribe(new o.a(n,(function(){r.complete(),n.next(r=new q.a)}),f.a,i)),function(){null==r||r.unsubscribe(),r=null}}))}function Kt(e,t){void 0===t&&(t=0);var n=t>0?t:e;return Object(r.b)((function(t,r){var i=[new q.a],c=0;r.next(i[0].asObservable()),t.subscribe(new o.a(r,(function(t){var o,u;try{for(var a=Object(d.i)(i),s=a.next();!s.done;s=a.next()){s.value.next(t)}}catch(e){o={error:e}}finally{try{s&&!s.done&&(u=a.return)&&u.call(a)}finally{if(o)throw o.error}}var f=c-e+1;if(f>=0&&f%n==0&&i.shift().complete(),++c%n==0){var l=new q.a;i.push(l),r.next(l.asObservable())}}),(function(){for(;i.length>0;)i.shift().complete();r.complete()}),(function(e){for(;i.length>0;)i.shift().error(e);r.error(e)}),(function(){null,i=null})))}))}function Qt(e){for(var t,n,i=[],c=1;c<arguments.length;c++)i[c-1]=arguments[c];var a=null!==(t=Object(v.c)(i))&&void 0!==t?t:u.b,s=null!==(n=i[0])&&void 0!==n?n:null,f=i[1]||1/0;return Object(r.b)((function(t,n){var r=[],i=!1,c=function(e){var t=e.window,n=e.subs;t.complete(),n.unsubscribe(),Object(h.a)(r,e),i&&u()},u=function(){if(r){var t=new p.b;n.add(t);var i=new q.a,o={window:i,subs:t,seen:0};r.push(o),n.next(i.asObservable()),t.add(a.schedule((function(){return c(o)}),e))}};null!==s&&s>=0?n.add(a.schedule((function(){u(),!this.closed&&n.add(this.schedule(null,s))}),s)):i=!0,u();var l=function(e){return r.slice().forEach(e)},d=function(e){l((function(t){var n=t.window;return e(n)})),e(n),n.unsubscribe()};return t.subscribe(new o.a(n,(function(e){l((function(t){t.window.next(e),f<=++t.seen&&c(t)}))}),(function(){return d((function(e){return e.complete()}))}),(function(e){return d((function(t){return t.error(e)}))}))),function(){r=null}}))}function Xt(e,t){return Object(r.b)((function(n,r){var c=[],u=function(e){for(;0<c.length;)c.shift().error(e);r.error(e)};Object(i.c)(e).subscribe(new o.a(r,(function(e){var n=new q.a;c.push(n);var a,s=new p.b;try{a=Object(i.c)(t(e))}catch(e){return void u(e)}r.next(n.asObservable()),s.add(a.subscribe(new o.a(r,(function(){Object(h.a)(c,n),n.complete(),s.unsubscribe()}),f.a,u)))}),f.a)),n.subscribe(new o.a(r,(function(e){var t,n,r=c.slice();try{for(var i=Object(d.i)(r),o=i.next();!o.done;o=i.next()){o.value.next(e)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}),(function(){for(;0<c.length;)c.shift().complete();r.complete()}),u,(function(){for(;0<c.length;)c.shift().unsubscribe()})))}))}function Zt(e){return Object(r.b)((function(t,n){var r,c,u=function(e){r.error(e),n.error(e)},a=function(){var t;null==c||c.unsubscribe(),null==r||r.complete(),r=new q.a,n.next(r.asObservable());try{t=Object(i.c)(e())}catch(e){return void u(e)}t.subscribe(c=new o.a(n,a,a,u))};a(),t.subscribe(new o.a(n,(function(e){return r.next(e)}),(function(){r.complete(),n.complete()}),u,(function(){null==c||c.unsubscribe(),r=null})))}))}function en(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(v.b)(e);return Object(r.b)((function(t,r){for(var c=e.length,u=new Array(c),a=e.map((function(){return!1})),s=!1,l=function(t){Object(i.c)(e[t]).subscribe(new o.a(r,(function(e){u[t]=e,s||a[t]||(a[t]=!0,(s=a.every(O.a))&&(a=null))}),f.a))},h=0;h<c;h++)l(h);t.subscribe(new o.a(r,(function(e){if(s){var t=Object(d.h)([e],Object(d.g)(u));r.next(n?n.apply(void 0,Object(d.h)([],Object(d.g)(t))):t)}})))}))}var tn=n(46);function nn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(r.b)((function(t,n){tn.a.apply(void 0,Object(d.h)([t],Object(d.g)(e))).subscribe(n)}))}function rn(e){return P(tn.a,e)}function on(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return nn.apply(void 0,Object(d.h)([],Object(d.g)(e)))}n.d(t,"audit",(function(){return c})),n.d(t,"auditTime",(function(){return s})),n.d(t,"buffer",(function(){return l})),n.d(t,"bufferCount",(function(){return b})),n.d(t,"bufferTime",(function(){return y})),n.d(t,"bufferToggle",(function(){return m})),n.d(t,"bufferWhen",(function(){return g})),n.d(t,"catchError",(function(){return w})),n.d(t,"combineAll",(function(){return T})),n.d(t,"combineLatestAll",(function(){return I})),n.d(t,"combineLatest",(function(){return R})),n.d(t,"combineLatestWith",(function(){return N})),n.d(t,"concat",(function(){return L})),n.d(t,"concatAll",(function(){return U.a})),n.d(t,"concatMap",(function(){return B})),n.d(t,"concatMapTo",(function(){return z})),n.d(t,"concatWith",(function(){return V})),n.d(t,"connect",(function(){return H})),n.d(t,"count",(function(){return G})),n.d(t,"debounce",(function(){return Y})),n.d(t,"debounceTime",(function(){return W})),n.d(t,"defaultIfEmpty",(function(){return K})),n.d(t,"delay",(function(){return ie})),n.d(t,"delayWhen",(function(){return re})),n.d(t,"dematerialize",(function(){return ce})),n.d(t,"distinct",(function(){return ue})),n.d(t,"distinctUntilChanged",(function(){return ae})),n.d(t,"distinctUntilKeyChanged",(function(){return fe})),n.d(t,"elementAt",(function(){return ve})),n.d(t,"endWith",(function(){return me})),n.d(t,"every",(function(){return ge})),n.d(t,"exhaust",(function(){return ke})),n.d(t,"exhaustAll",(function(){return we})),n.d(t,"exhaustMap",(function(){return Oe})),n.d(t,"expand",(function(){return _e})),n.d(t,"filter",(function(){return de.a})),n.d(t,"finalize",(function(){return Ee})),n.d(t,"find",(function(){return Se})),n.d(t,"findIndex",(function(){return Ae})),n.d(t,"first",(function(){return Ce})),n.d(t,"groupBy",(function(){return Pe})),n.d(t,"ignoreElements",(function(){return ee})),n.d(t,"isEmpty",(function(){return Te})),n.d(t,"last",(function(){return Re})),n.d(t,"map",(function(){return te.a})),n.d(t,"mapTo",(function(){return ne})),n.d(t,"materialize",(function(){return Ne})),n.d(t,"max",(function(){return Ue})),n.d(t,"merge",(function(){return Le})),n.d(t,"mergeAll",(function(){return Me.a})),n.d(t,"flatMap",(function(){return Fe})),n.d(t,"mergeMap",(function(){return E.a})),n.d(t,"mergeMapTo",(function(){return Be})),n.d(t,"mergeScan",(function(){return ze})),n.d(t,"mergeWith",(function(){return Ve})),n.d(t,"min",(function(){return qe})),n.d(t,"multicast",(function(){return Je})),n.d(t,"observeOn",(function(){return He.a})),n.d(t,"onErrorResumeNext",(function(){return Ge.a})),n.d(t,"pairwise",(function(){return Ye})),n.d(t,"partition",(function(){return Ke})),n.d(t,"pluck",(function(){return Qe})),n.d(t,"publish",(function(){return Xe})),n.d(t,"publishBehavior",(function(){return et})),n.d(t,"publishLast",(function(){return nt})),n.d(t,"publishReplay",(function(){return it})),n.d(t,"race",(function(){return ut})),n.d(t,"raceWith",(function(){return ct})),n.d(t,"reduce",(function(){return x})),n.d(t,"repeat",(function(){return at})),n.d(t,"repeatWhen",(function(){return st})),n.d(t,"retry",(function(){return ft})),n.d(t,"retryWhen",(function(){return lt})),n.d(t,"refCount",(function(){return dt.a})),n.d(t,"sample",(function(){return ht})),n.d(t,"sampleTime",(function(){return pt})),n.d(t,"scan",(function(){return vt})),n.d(t,"sequenceEqual",(function(){return yt})),n.d(t,"share",(function(){return gt})),n.d(t,"shareReplay",(function(){return kt})),n.d(t,"single",(function(){return _t})),n.d(t,"skip",(function(){return Et})),n.d(t,"skipLast",(function(){return St})),n.d(t,"skipUntil",(function(){return xt})),n.d(t,"skipWhile",(function(){return At})),n.d(t,"startWith",(function(){return Ct})),n.d(t,"subscribeOn",(function(){return Pt.a})),n.d(t,"switchAll",(function(){return Tt})),n.d(t,"switchMap",(function(){return It})),n.d(t,"switchMapTo",(function(){return Dt})),n.d(t,"switchScan",(function(){return Rt})),n.d(t,"take",(function(){return Z})),n.d(t,"takeLast",(function(){return De})),n.d(t,"takeUntil",(function(){return Nt})),n.d(t,"takeWhile",(function(){return Ut})),n.d(t,"tap",(function(){return Mt})),n.d(t,"throttle",(function(){return Ft})),n.d(t,"throttleTime",(function(){return Bt})),n.d(t,"throwIfEmpty",(function(){return be})),n.d(t,"timeInterval",(function(){return Vt})),n.d(t,"timeout",(function(){return $t.b})),n.d(t,"timeoutWith",(function(){return Ht})),n.d(t,"timestamp",(function(){return Yt})),n.d(t,"toArray",(function(){return C})),n.d(t,"window",(function(){return Wt})),n.d(t,"windowCount",(function(){return Kt})),n.d(t,"windowTime",(function(){return Qt})),n.d(t,"windowToggle",(function(){return Xt})),n.d(t,"windowWhen",(function(){return Zt})),n.d(t,"withLatestFrom",(function(){return en})),n.d(t,"zip",(function(){return nn})),n.d(t,"zipAll",(function(){return rn})),n.d(t,"zipWith",(function(){return on}))},function(e,t){e.exports={Router:(e={})=>new Proxy(e,{get:(e,t,n)=>"handle"===t?async(t,...n)=>{for(let[r,i]of e.r.filter(e=>e[2]===t.method||"ALL"===e[2])){let e,o,c;if(e=(c=new URL(t.url)).pathname.match(r)){t.params=e.groups,t.query=t.query||Object.fromEntries(c.searchParams.entries());for(let e of i)if(void 0!==(o=await e(t.proxy||t,...n)))return o}}}:(r,...i)=>(e.r=e.r||[]).push([`^${((e.base||"")+r).replace(/(\/?)\*/g,"($1.*)?").replace(/\/$/,"").replace(/:(\w+|\()(\?)?(\.)?/g,"$2(?<$1>[^/$3]+)$2$3").replace(/\.(?=[\w(])/,"\\.")}/*$`,i,t.toUpperCase()])&&n})}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CLIENT_CONFIG=void 0;const r=n(117),i=n(140),o=n(57),c=n(85),u=n(95),a=n(31);t.DEFAULT_CLIENT_CONFIG={syncInterval:5e3};const s={anchor:!0,publish:!0,sync:o.SyncOptions.PREFER_CACHE},f={anchor:!0,publish:!0,sync:o.SyncOptions.PREFER_CACHE},l={sync:o.SyncOptions.PREFER_CACHE};t.default=class{constructor(e="http://localhost:7007",n={}){this._config={...t.DEFAULT_CLIENT_CONFIG,...n},this._apiUrl=r.combineURLs(e,"/api/v0"),this._streamCache=new Map,this.context={api:this},this.pin=this._initPinApi(),this._streamConstructors={[c.TileDocument.STREAM_TYPE_ID]:c.TileDocument,[u.Caip10Link.STREAM_TYPE_ID]:u.Caip10Link}}get did(){return this.context.did}set did(e){this.context.did=e}_initPinApi(){return{add:async e=>{await o.fetchJson(this._apiUrl+"/pins/"+e.toString(),{method:"post"})},rm:async e=>{await o.fetchJson(this._apiUrl+"/pins/"+e.toString(),{method:"delete"})},ls:async e=>{let t=this._apiUrl+"/pins";e&&(t+="/"+e.toString());const n=await o.fetchJson(t),{pinnedStreamIds:r}=n;return{[Symbol.asyncIterator](){let e=0;return{next:()=>e===r.length?Promise.resolve({value:null,done:!0}):Promise.resolve({value:r[e++],done:!1})}}}}}}async createStreamFromGenesis(e,t,n={}){n={...f,...n};const r=await i.Document.createFromGenesis(this._apiUrl,e,t,n,this._config.syncInterval),c=this._streamCache.get(r.id.toString());return c?(o.StreamUtils.statesEqual(r.state,c.state)||c.next(r.state),this.buildStream(c)):(this._streamCache.set(r.id.toString(),r),this.buildStream(r))}async loadStream(e,t={}){t={...l,...t};const n=a.StreamRef.from(e);let r=this._streamCache.get(n.baseID.toString());return r?await r._syncState(n,t):(r=await i.Document.load(n,this._apiUrl,this._config.syncInterval,t),this._streamCache.set(r.id.toString(),r)),this.buildStream(r)}async multiQuery(e){const t=e.map(e=>({streamId:"string"==typeof e.streamId?e.streamId:e.streamId.toString(),paths:e.paths,atTime:e.atTime})),n=await o.fetchJson(this._apiUrl+"/multiqueries",{method:"post",body:{queries:t}});return Object.entries(n).reduce((e,t)=>{const[n,r]=t,c=o.StreamUtils.deserializeState(r),u=new i.Document(c,this._apiUrl,this._config.syncInterval);return e[n]=this.buildStream(u),e},{})}loadStreamCommits(e){const t=r.typeStreamID(e);return i.Document.loadStreamCommits(t,this._apiUrl)}async applyCommit(e,t,n={}){n={...s,...n};const o=r.typeStreamID(e),c=await i.Document.applyCommit(this._apiUrl,o,t,n,this._config.syncInterval),u=this._streamCache.get(o.toString());return u?(u.next(c.state),this.buildStream(c)):(this._streamCache.set(o.toString(),c),this.buildStream(c))}addStreamHandler(e){this._streamConstructors[e.name]=e.stream_constructor}findStreamConstructor(e){const t=this._streamConstructors[e];if(t)return t;throw new Error("Failed to find constructor for stream "+e)}buildStream(e){return new(this.findStreamConstructor(e.state.type))(e,this.context)}async setDID(e){this.context.did=e}async getSupportedChains(){if(this._supportedChains)return this._supportedChains;const{supportedChains:e}=await o.fetchJson(this._apiUrl+"/node/chains");return this._supportedChains=e,e}async close(){Array.from(this._streamCache).map(([,e])=>{e.complete()}),this._streamCache.clear()}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.delay=t.combineURLs=t.typeStreamID=void 0;const i=r(n(31));t.typeStreamID=function(e){return"string"==typeof e?i.default.fromString(e):e},t.combineURLs=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},t.delay=async function(e){await new Promise(t=>setTimeout(()=>t(),e))}},function(e,t,n){"use strict";const r=n(119),i=n(120),{rfc4648:o}=n(121),{decodeText:c,encodeText:u}=n(86),a=[["identity","\0",()=>({encode:c,decode:u}),""],["base2","0",o(1),"01"],["base8","7",o(3),"01234567"],["base10","9",r,"0123456789"],["base16","f",o(4),"0123456789abcdef"],["base16upper","F",o(4),"0123456789ABCDEF"],["base32hex","v",o(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",o(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",o(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",o(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",o(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",o(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",o(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",o(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",o(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",r,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",r,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",r,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",r,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],s=a.reduce((e,t)=>(e[t[0]]=new i(t[0],t[1],t[2],t[3]),e),{}),f=a.reduce((e,t)=>(e[t[1]]=s[t[0]],e),{});e.exports={names:s,codes:f}},function(e,t,n){"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=r}var c=e.length,u=e.charAt(0),a=Math.log(c)/Math.log(256),s=Math.log(256)/Math.log(c);function f(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var n=0;if(" "!==e[n]){for(var r=0,i=0;e[n]===u;)r++,n++;for(var o=(e.length-n)*a+1>>>0,s=new Uint8Array(o);e[n];){var f=t[e.charCodeAt(n)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<i)&&-1!==d;d--,l++)f+=c*s[d]>>>0,s[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=l,n++}if(" "!==e[n]){for(var h=o-i;h!==o&&0===s[h];)h++;for(var b=new Uint8Array(r+(o-h)),p=r;h!==o;)b[p++]=s[h++];return b}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var a=(o-i)*s+1>>>0,f=new Uint8Array(a);i!==o;){for(var l=t[i],d=0,h=a-1;(0!==l||d<r)&&-1!==h;h--,d++)l+=256*f[h]>>>0,f[h]=l%c>>>0,l=l/c>>>0;if(0!==l)throw new Error("Non-zero carry");r=d,i++}for(var b=a-r;b!==a&&0===f[b];)b++;for(var p=u.repeat(n);b<a;++b)p+=e.charAt(f[b]);return p},decodeUnsafe:f,decode:function(e){var t=f(e);if(t)return t;throw new Error("Non-base"+c+" character")}}}},function(e,t,n){"use strict";const{encodeText:r}=n(86);e.exports=class{constructor(e,t,n,i){this.name=e,this.code=t,this.codeBuf=r(this.code),this.alphabet=i,this.codec=n(i)}encode(e){return this.codec.encode(e)}decode(e){for(const t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}}},function(e,t,n){"use strict";e.exports={rfc4648:e=>t=>({encode:n=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let o="",c=0,u=0;for(let r=0;r<e.length;++r)for(u=u<<8|e[r],c+=8;c>n;)c-=n,o+=t[i&u>>c];if(c&&(o+=t[i&u<<n-c]),r)for(;o.length*n&7;)o+="=";return o})(n,t,e),decode:n=>((e,t,n)=>{const r={};for(let e=0;e<t.length;++e)r[t[e]]=e;let i=e.length;for(;"="===e[i-1];)--i;const o=new Uint8Array(i*n/8|0);let c=0,u=0,a=0;for(let t=0;t<i;++t){const i=r[e[t]];if(void 0===i)throw new SyntaxError("Invalid character "+e[t]);u=u<<n|i,c+=n,c>=8&&(c-=8,o[a++]=255&u>>c)}if(c>=n||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return o})(n,t,e)})}},function(e,t,n){e.exports={encode:n(123),decode:n(124),encodingLength:n(125)}},function(e,t){e.exports=function e(t,r,i){r=r||[];var o=i=i||0;for(;t>=n;)r[i++]=255&t|128,t/=128;for(;-128&t;)r[i++]=255&t|128,t>>>=7;return r[i]=0|t,e.bytes=i-o+1,r};var n=Math.pow(2,31)},function(e,t){e.exports=function e(t,n){var r,i=0,o=0,c=n=n||0,u=t.length;do{if(c>=u)throw e.bytes=0,new RangeError("Could not decode varint");r=t[c++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=c-n,i}},function(e,t){var n=Math.pow(2,7),r=Math.pow(2,14),i=Math.pow(2,21),o=Math.pow(2,28),c=Math.pow(2,35),u=Math.pow(2,42),a=Math.pow(2,49),s=Math.pow(2,56),f=Math.pow(2,63);e.exports=function(e){return e<n?1:e<r?2:e<i?3:e<o?4:e<c?5:e<u?6:e<a?7:e<s?8:e<f?9:10}},function(e,t,n){"use strict";const r=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});e.exports={names:r}},function(e,t,n){"use strict";const r=n(98),i=n(39),o=n(99),{nameToVarint:c,constantToCode:u,nameToCode:a,codeToName:s}=n(131);function f(e){const t=r.decode(e),n=s[t];if(void 0===n)throw new Error(`Code "${t}" not found`);return n}function l(e){return s[e]}function d(e){const t=a[e];if(void 0===t)throw new Error(`Codec "${e}" not found`);return t}function h(e){return r.decode(e)}function b(e){const t=c[e];if(void 0===t)throw new Error(`Codec "${e}" not found`);return t}function p(e){return o.varintEncode(e)}e.exports={addPrefix:function(e,t){let n;if(e instanceof Uint8Array)n=o.varintUint8ArrayEncode(e);else{if(!c[e])throw new Error("multicodec not recognized");n=c[e]}return i([n,t],n.length+t.length)},rmPrefix:function(e){return r.decode(e),e.slice(r.decode.bytes)},getNameFromData:f,getNameFromCode:l,getCodeFromName:d,getCodeFromData:h,getVarintFromName:b,getVarintFromCode:p,getCodec:function(e){return f(e)},getName:function(e){return l(e)},getNumber:function(e){return d(e)},getCode:function(e){return h(e)},getCodeVarint:function(e){return b(e)},getVarint:function(e){return Array.from(p(e))},...u,nameToVarint:c,nameToCode:a,codeToName:s}},function(e,t){e.exports=function e(t,r,i){r=r||[];var o=i=i||0;for(;t>=n;)r[i++]=255&t|128,t/=128;for(;-128&t;)r[i++]=255&t|128,t>>>=7;return r[i]=0|t,e.bytes=i-o+1,r};var n=Math.pow(2,31)},function(e,t){e.exports=function e(t,n){var r,i=0,o=0,c=n=n||0,u=t.length;do{if(c>=u)throw e.bytes=0,new RangeError("Could not decode varint");r=t[c++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=c-n,i}},function(e,t){var n=Math.pow(2,7),r=Math.pow(2,14),i=Math.pow(2,21),o=Math.pow(2,28),c=Math.pow(2,35),u=Math.pow(2,42),a=Math.pow(2,49),s=Math.pow(2,56),f=Math.pow(2,63);e.exports=function(e){return e<n?1:e<r?2:e<i?3:e<o?4:e<c?5:e<u?6:e<a?7:e<s?8:e<f?9:10}},function(e,t,n){"use strict";const{baseTable:r}=n(132),i=n(99).varintEncode,o={},c={},u={};for(const e in r){const t=e,n=r[t];o[t]=i(n);c[t.toUpperCase().replace(/-/g,"_")]=n,u[n]||(u[n]=t)}Object.freeze(o),Object.freeze(c),Object.freeze(u);const a=Object.freeze(r);e.exports={nameToVarint:o,constantToCode:c,nameToCode:a,codeToName:u}},function(e,t,n){"use strict";const r=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,docid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,thread:406,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,json:512,messagepack:513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056});e.exports={baseTable:r}},function(e,t,n){"use strict";const r=n(97),i={checkCIDComponents:function(e){if(null==e)return"null values are not valid CIDs";if(0!==e.version&&1!==e.version)return"Invalid version, must be a number equal to 1 or 0";if("string"!=typeof e.codec)return"codec must be string";if(0===e.version){if("dag-pb"!==e.codec)return"codec must be 'dag-pb' for CIDv0";if("base58btc"!==e.multibaseName)return"multibaseName must be 'base58btc' for CIDv0"}if(!(e.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{r.validate(e.multihash)}catch(e){let t=e.message;return t||(t="Multihash validation failed"),t}}};e.exports=i},function(e,t){e.exports=function e(t,r,i){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw e.bytes=0,new RangeError("Could not encode varint");r=r||[];var o=i=i||0;for(;t>=n;)r[i++]=255&t|128,t/=128;for(;-128&t;)r[i++]=255&t|128,t>>>=7;return r[i]=0|t,e.bytes=i-o+1,r};var n=Math.pow(2,31)},function(e,t){e.exports=function e(t,n){var r,i=0,o=0,c=n=n||0,u=t.length;do{if(c>=u||o>49)throw e.bytes=0,new RangeError("Could not decode varint");r=t[c++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=c-n,i}},function(e,t){var n=Math.pow(2,7),r=Math.pow(2,14),i=Math.pow(2,21),o=Math.pow(2,28),c=Math.pow(2,35),u=Math.pow(2,42),a=Math.pow(2,49),s=Math.pow(2,56),f=Math.pow(2,63);e.exports=function(e){return e<n?1:e<r?2:e<i?3:e<o?4:e<c?5:e<u?6:e<a?7:e<s?8:e<f?9:10}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.StreamRef=void 0;const c=n(55),u=n(89),a=o(n(91));function s(e){try{return e()}catch(e){return null}}function f(e){throw new Error(e)}!function(e){e.from=function(e){if(c.StreamID.isInstance(e))return e;if(u.CommitID.isInstance(e))return e;if(e instanceof Uint8Array)return s(()=>u.CommitID.fromBytes(e))||s(()=>c.StreamID.fromBytes(e))||f("Can not build CommitID or StreamID from bytes "+a.toString(e,"base36"));if("string"==typeof e)return s(()=>u.CommitID.fromString(e))||s(()=>c.StreamID.fromString(e))||f("Can not build CommitID or StreamID from string "+e);throw new Error("Can not build CommitID or StreamID")}}(t.StreamRef||(t.StreamRef={}))},function(e,t,n){"use strict";e.exports=function(e,t){for(let n=0;n<e.byteLength;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0}},function(e,t,n){"use strict";e.exports=function(e,t){if(e.length!==t.length)throw new Error("Inputs should have the same length");const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Document=void 0;const i=n(59),o=n(113),c=n(57),u=n(31),a=r(n(156));class s extends i.Observable{constructor(e,t,n){super(e=>{0===this.state$.observers.length&&(this.periodicSubscription=i.timer(0,n).pipe(o.throttle(()=>this._syncState(this.id,{sync:c.SyncOptions.PREFER_CACHE}))).subscribe()),this.state$.subscribe(e).add(()=>{var e;0===this.state$.observers.length&&(null===(e=this.periodicSubscription)||void 0===e||e.unsubscribe())})}),this._apiUrl=t,this.state$=new c.StreamStateSubject(e)}get value(){return this.state$.value}get state(){return this.state$.value}next(e){this.state$.next(e)}async _syncState(e,t){const n=await s._load(e,this._apiUrl,t);this.state$.next(c.StreamUtils.deserializeState(n))}get id(){return new u.StreamID(this.state$.value.type,this.state$.value.log[0].cid)}static async createFromGenesis(e,t,n,r,i){const{state:o}=await c.fetchJson(e+"/streams",{method:"post",body:{type:t,genesis:c.StreamUtils.serializeCommit(n),opts:r}});return new s(c.StreamUtils.deserializeState(o),e,i)}static async applyCommit(e,t,n,r,i){const{state:o}=await c.fetchJson(e+"/commits",{method:"post",body:{streamId:t.toString(),commit:c.StreamUtils.serializeCommit(n),opts:r}});return new s(c.StreamUtils.deserializeState(o),e,i)}static async _load(e,t,n){const r=t+"/streams/"+e.toString()+"?"+a.default.stringify(n),{state:i}=await c.fetchJson(r);return i}static async load(e,t,n,r){const i=await s._load(e,t,r);return new s(c.StreamUtils.deserializeState(i),t,n)}static async loadStreamCommits(e,t){const{commits:n}=await c.fetchJson(`${t}/commits/${e}`);return n.map(e=>({cid:e.cid,value:c.StreamUtils.deserializeCommit(e.value)}))}complete(){this.state$.complete()}}t.Document=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchJson=void 0;const i=r(n(94));t.fetchJson=async function(e,t={}){t.body&&Object.assign(t,{body:JSON.stringify(t.body),headers:{"Content-Type":"application/json"}});const n=await i.default(e,t);if(!n.ok){const t=await n.text();throw new Error(`HTTP request to '${e}' failed with status '${n.statusText}': ${t}`)}return n.json()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TestUtils=void 0;const r=n(113),i=n(59),o=n(31);class c extends i.BehaviorSubject{constructor(e){super(e),this.state=this.value,this.id=new o.StreamID(this.state.type,this.state.log[0].cid)}}t.TestUtils=class{static registerChangeListener(e){return e.pipe(r.take(1)).toPromise()}static async waitForState(e,t,n,i){if(n(e.state))return;const o=new Promise(e=>setTimeout(e,t)),c=e.pipe(r.filter(e=>n(e))).toPromise();await Promise.race([o,c]),n(e.state)||i()}static runningState(e){return new c(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerProvider=void 0;const r=n(108),i=n(92);class o extends i.LoggerProviderBase{_makeDiagnosticLogger(){return new r.DiagnosticsLogger(this.config.logLevel)}makeServiceLogger(e){return new r.ServiceLogger(e,this.config.logLevel)}}t.LoggerProvider=o},function(e,t){function n(e){return e&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function r(e){return e}function i(e,t){const i=(t=t||{}).delimiter||".",o=t.maxDepth,c=t.transformKey||r,u={};return function e(r,a,s){s=s||1,Object.keys(r).forEach((function(f){const l=r[f],d=t.safe&&Array.isArray(l),h=Object.prototype.toString.call(l),b=n(l),p="[object Object]"===h||"[object Array]"===h,v=a?a+i+c(f):c(f);if(!d&&!b&&p&&Object.keys(l).length&&(!t.maxDepth||s<o))return e(l,v,s+1);u[v]=l}))}(e),u}e.exports=i,i.flatten=i,i.unflatten=function e(t,o){const c=(o=o||{}).delimiter||".",u=o.overwrite||!1,a=o.transformKey||r,s={};if(n(t)||"[object Object]"!==Object.prototype.toString.call(t))return t;function f(e){const t=Number(e);return isNaN(t)||-1!==e.indexOf(".")||o.object?e:t}return t=Object.keys(t).reduce((function(e,n){const r=Object.prototype.toString.call(t[n]);return!("[object Object]"===r||"[object Array]"===r)||function(e){const t=Object.prototype.toString.call(e),n="[object Array]"===t,r="[object Object]"===t;if(!e)return!0;if(n)return!e.length;if(r)return!Object.keys(e).length}(t[n])?(e[n]=t[n],e):function(e,t,n){return Object.keys(n).reduce((function(t,r){return t[e+c+r]=n[r],t}),t)}(n,e,i(t[n],o))}),{}),Object.keys(t).forEach((function(n){const r=n.split(c).map(a);let i=f(r.shift()),l=f(r[0]),d=s;for(;void 0!==l;){if("__proto__"===i)return;const e=Object.prototype.toString.call(d[i]),t="[object Object]"===e||"[object Array]"===e;if(!u&&!t&&void 0!==d[i])return;(u&&!t||!u&&null==d[i])&&(d[i]="number"!=typeof l||o.object?{}:[]),d=d[i],r.length>0&&(i=f(r.shift()),l=f(r[0]))}d[i]=e(t[n],o)})),s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Networks=void 0,function(e){e.MAINNET="mainnet",e.ELP="elp",e.TESTNET_CLAY="testnet-clay",e.DEV_UNSTABLE="dev-unstable",e.LOCAL="local",e.INMEMORY="inmemory"}(t.Networks||(t.Networks={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnreachableCaseError=void 0;class r extends Error{constructor(e,t){super(`Unhandled ${JSON.stringify(e)}: ${t}`)}}t.UnreachableCaseError=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamStateSubject=void 0;const r=n(59),i=n(107);class o extends r.BehaviorSubject{next(e){const t=this.value;i.StreamUtils.statesEqual(t,e)||super.next(e)}}t.StreamStateSubject=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionSet=void 0;t.SubscriptionSet=class{constructor(e=new Set){this.subscriptions=e}add(e){e.add(()=>{this.subscriptions.delete(e)}),this.subscriptions.add(e)}unsubscribe(){this.subscriptions.forEach(e=>e.unsubscribe())}}},function(e,t,n){"use strict";const r=n(157),i=n(158),o=n(159),c=n(160);function u(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function a(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function s(e,t){return t.decode?i(e):e}function f(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function l(e){const t=(e=f(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function d(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function h(e,t){u((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const i="string"==typeof n&&n.includes(e.arrayFormatSeparator),o="string"==typeof n&&!i&&s(n,e).includes(e.arrayFormatSeparator);n=o?s(n,e):n;const c=i||o?n.split(e.arrayFormatSeparator).map(t=>s(t,e)):null===n?n:s(n,e);r[t]=c};case"bracket-separator":return(t,n,r)=>{const i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!i)return void(r[t]=n?s(n,e):n);const o=null===n?[]:n.split(e.arrayFormatSeparator).map(t=>s(t,e));void 0!==r[t]?r[t]=[].concat(r[t],o):r[t]=o};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const i of e.split("&")){if(""===i)continue;let[e,c]=o(t.decode?i.replace(/\+/g," "):i,"=");c=void 0===c?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?c:s(c,t),n(s(e,t),c,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=d(n[e],t);else r[e]=d(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(n):e[t]=n,e},Object.create(null))}t.extract=l,t.parse=h,t.stringify=(e,t)=>{if(!e)return"";u((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[a(t,e),"[",i,"]"].join("")]:[...n,[a(t,e),"[",a(i,e),"]=",a(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[a(t,e),"[]"].join("")]:[...n,[a(t,e),"[]=",a(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return n=>(r,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?r:(i=null===i?"":i,0===r.length?[[a(n,e),t,a(i,e)].join("")]:[[r,a(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,a(t,e)]:[...n,[a(t,e),"=",a(r,e)].join("")]}}(t),i={};for(const t of Object.keys(e))n(t)||(i[t]=e[t]);const o=Object.keys(i);return!1!==t.sort&&o.sort(t.sort),o.map(n=>{const i=e[n];return void 0===i?"":null===i?a(n,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?a(n,t)+"[]":i.reduce(r(n),[]).join("&"):a(n,t)+"="+a(i,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=o(e,"#");return Object.assign({url:n.split("?")[0]||"",query:h(l(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:s(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=f(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),c=Object.assign(o,e.query);let u=t.stringify(c,n);u&&(u="?"+u);let s=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(s="#"+a(e.fragmentIdentifier,n)),`${r}${u}${s}`},t.pick=(e,n,r)=>{r=Object.assign({parseFragmentIdentifier:!0},r);const{url:i,query:o,fragmentIdentifier:u}=t.parseUrl(e,r);return t.stringifyUrl({url:i,query:c(o,n),fragmentIdentifier:u},r)},t.exclude=(e,n,r)=>{const i=Array.isArray(n)?e=>!n.includes(e):(e,t)=>!n(e,t);return t.pick(e,i,r)}},function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())},function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function c(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=i.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=c(n[0]);r!==n[0]&&(t[n[0]]=r)}n=i.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),u=0;u<o.length;u++){var a=o[u];e=e.replace(new RegExp(a,"g"),t[a])}return e}(e)}}},function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),i=Array.isArray(t),o=0;o<r.length;o++){var c=r[o],u=e[c];(i?-1!==t.indexOf(c):t(c,u,e))&&(n[c]=u)}return n}},function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,c=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(c=(o<3?i(c):o>3?i(t,n,c):i(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TileDocument=void 0;const s=a(n(162)),f=u(n(91)),l=n(164),d=n(57),h=n(31),b={anchor:!0,publish:!0,sync:d.SyncOptions.PREFER_CACHE},p={sync:d.SyncOptions.PREFER_CACHE},v={anchor:!0,publish:!0};function y(e){var t;if("string"==typeof(null==e?void 0:e.schema))try{h.CommitID.fromString(e.schema)}catch(e){throw new Error("Schema must be a CommitID")}const n={controllers:null==e?void 0:e.controllers,family:null==e?void 0:e.family,schema:null===(t=null==e?void 0:e.schema)||void 0===t?void 0:t.toString(),tags:null==e?void 0:e.tags};return Object.keys(n).forEach(e=>void 0===n[e]&&delete n[e]),n}async function m(e){if(null==e.did)throw new Error("No DID provided");e.did.authenticated||(await e.did.authenticate(),e.loggerProvider&&e.loggerProvider.getDiagnosticsLogger().imp("Now authenticated as DID "+e.did.id))}async function g(e,t,n){return await m(e),e.did.createDagJWS(t,{did:n})}async function w(){throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")}let k=r=class extends d.Stream{get content(){return this._getContent()}static async create(e,t,n,i={}){i={...b,...i},(null==n?void 0:n.deterministic)||null!=i.syncTimeoutSeconds||(i.syncTimeoutSeconds=0);const o=await r.makeGenesis(e,t,n);return e.createStreamFromGenesis(r.STREAM_TYPE_ID,o,i)}static async createFromGenesis(e,t,n={}){var i;n={...b,...n},(null===(i=t.header)||void 0===i?void 0:i.unique)&&null==n.syncTimeoutSeconds&&(n.syncTimeoutSeconds=0);const o=t.data?await g(e,t,t.header.controllers[0]):t;return e.createStreamFromGenesis(r.STREAM_TYPE_ID,o,n)}static async load(e,t,n={}){n={...p,...n};const i=h.StreamRef.from(t);if(i.type!=r.STREAM_TYPE_ID)throw new Error(`StreamID ${i.toString()} does not refer to a '${r.STREAM_TYPE_NAME}' stream, but to a ${i.typeName}`);return e.loadStream(i,n)}async update(e,t,n={}){n={...v,...n};const r=await this.makeCommit(this.api,e,t),i=await this.api.applyCommit(this.id,r,n);this.state$.next(i.state)}async patch(e,t={}){t={...v,...t};const n={header:y(this.metadata),data:e,prev:this.tip,id:this.state$.id.cid},r=await g(this.api,n,this.controllers[0]),i=await this.api.applyCommit(this.id,r,t);this.state$.next(i.state)}makeReadOnly(){this.update=w,this.patch=w}async makeCommit(e,t,n){var r;const i=y(n);if(null==t&&(t=this.content),i.controllers&&1!==(null===(r=i.controllers)||void 0===r?void 0:r.length))throw new Error("Exactly one controller must be specified");return g(e,{header:i,data:s.default.compare(this.content,t),prev:this.tip,id:this.state.log[0].cid},this.controllers[0])}static async makeGenesis(e,t,n){var r;if(n||(n={}),!n.controllers||0===n.controllers.length){if(!e.did)throw new Error("No controllers specified");await m(e),n.controllers=[e.did.id]}if(1!==(null===(r=n.controllers)||void 0===r?void 0:r.length))throw new Error("Exactly one controller must be specified");const i=y(n);if(null==n?void 0:n.deterministic){if(t)throw new Error("Initial content must be null when creating a deterministic Tile document")}else i.unique=f.toString(l.randomBytes(12),"base64");if(null==t)return{header:i};const o={data:t,header:i};return await g(e,o,n.controllers[0])}};k.STREAM_TYPE_NAME="tile",k.STREAM_TYPE_ID=0,k=r=c([d.StreamStatic()],k),t.TileDocument=k},function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});
/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017 Joachim Wester
 * MIT license
 */
var i=n(58),o=n(93),c=n(93);t.applyOperation=c.applyOperation,t.applyPatch=c.applyPatch,t.applyReducer=c.applyReducer,t.getValueByPointer=c.getValueByPointer,t.validate=c.validate,t.validator=c.validator;var u=n(58);t.JsonPatchError=u.PatchError,t.deepClone=u._deepClone,t.escapePathComponent=u.escapePathComponent,t.unescapePathComponent=u.unescapePathComponent;var a=new WeakMap,s=function(e){this.observers=new Map,this.obj=e},f=function(e,t){this.callback=e,this.observer=t};function l(e,t){t.unobserve()}function d(e,t){var n,r=function(e){return a.get(e)}(e);if(r){var o=function(e,t){return e.observers.get(t)}(r,t);n=o&&o.observer}else r=new s(e),a.set(e,r);if(n)return n;if(n={},r.value=i._deepClone(e),t){n.callback=t,n.next=null;var c=function(){h(n)},u=function(){clearTimeout(n.next),n.next=setTimeout(c)};"undefined"!=typeof window&&(window.addEventListener("mouseup",u),window.addEventListener("keyup",u),window.addEventListener("mousedown",u),window.addEventListener("keydown",u),window.addEventListener("change",u))}return n.patches=[],n.object=e,n.unobserve=function(){h(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(r,n),"undefined"!=typeof window&&(window.removeEventListener("mouseup",u),window.removeEventListener("keyup",u),window.removeEventListener("mousedown",u),window.removeEventListener("keydown",u),window.removeEventListener("change",u))},r.observers.set(t,new f(t,n)),n}function h(e,t){void 0===t&&(t=!1);var n=a.get(e.object);b(n.value,e.object,e.patches,"",t),e.patches.length&&o.applyPatch(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function b(e,t,n,r,o){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var c=i._objectKeys(t),u=i._objectKeys(e),a=!1,s=u.length-1;s>=0;s--){var f=e[d=u[s]];if(!i.hasOwnProperty(t,d)||void 0===t[d]&&void 0!==f&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(o&&n.push({op:"test",path:r+"/"+i.escapePathComponent(d),value:i._deepClone(f)}),n.push({op:"remove",path:r+"/"+i.escapePathComponent(d)}),a=!0):(o&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}),!0);else{var l=t[d];"object"==typeof f&&null!=f&&"object"==typeof l&&null!=l?b(f,l,n,r+"/"+i.escapePathComponent(d),o):f!==l&&(!0,o&&n.push({op:"test",path:r+"/"+i.escapePathComponent(d),value:i._deepClone(f)}),n.push({op:"replace",path:r+"/"+i.escapePathComponent(d),value:i._deepClone(l)}))}}if(a||c.length!=u.length)for(s=0;s<c.length;s++){var d=c[s];i.hasOwnProperty(e,d)||void 0===t[d]||n.push({op:"add",path:r+"/"+i.escapePathComponent(d),value:i._deepClone(t[d])})}}}function p(e,t,n){void 0===n&&(n=!1);var r=[];return b(e,t,r,"",n),r}t.unobserve=l,t.observe=d,t.generate=h,t.compare=p;var v=n(93),y=n(58);t.default=r({},v,{unobserve:l,observe:d,generate:h,compare:p,JsonPatchError:y.PatchError,deepClone:i._deepClone,escapePathComponent:i.escapePathComponent,unescapePathComponent:y.unescapePathComponent})},function(e,t,n){"use strict";var r=Array.isArray,i=Object.keys,o=Object.prototype.hasOwnProperty;e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var c,u,a,s=r(t),f=r(n);if(s&&f){if((u=t.length)!=n.length)return!1;for(c=u;0!=c--;)if(!e(t[c],n[c]))return!1;return!0}if(s!=f)return!1;var l=t instanceof Date,d=n instanceof Date;if(l!=d)return!1;if(l&&d)return t.getTime()==n.getTime();var h=t instanceof RegExp,b=n instanceof RegExp;if(h!=b)return!1;if(h&&b)return t.toString()==n.toString();var p=i(t);if((u=p.length)!==i(n).length)return!1;for(c=u;0!=c--;)if(!o.call(n,p[c]))return!1;for(c=u;0!=c--;)if(!e(t[a=p[c]],n[a]))return!1;return!0}return t!=t&&n!=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(165),i=n(169),o=n(109);function c(e,n){return void 0===n&&(n=t.defaultRandomSource),n.randomBytes(e)}t.defaultRandomSource=new r.SystemRandomSource,t.randomBytes=c,t.randomUint32=function(e){void 0===e&&(e=t.defaultRandomSource);var n=c(4,e),r=i.readUint32LE(n);return o.wipe(n),r};var u="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(e,n,r){if(void 0===n&&(n=u),void 0===r&&(r=t.defaultRandomSource),n.length<2)throw new Error("randomString charset is too short");if(n.length>256)throw new Error("randomString charset is too long");for(var i="",a=n.length,s=256-256%a;e>0;){for(var f=c(Math.ceil(256*e/s),r),l=0;l<f.length&&e>0;l++){var d=f[l];d<s&&(i+=n.charAt(d%a),e--)}o.wipe(f)}return i}t.randomString=a,t.randomStringForEntropy=function(e,n,r){return void 0===n&&(n=u),void 0===r&&(r=t.defaultRandomSource),a(Math.ceil(e/(Math.log(n.length)/Math.LN2)),n,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(166),i=n(167),o=function(){function e(){return this.isAvailable=!1,this.name="",this._source=new r.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new i.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}return e.prototype.randomBytes=function(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)},e}();t.SystemRandomSource=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.isAvailable=!1,this.isInstantiated=!1;var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}return e.prototype.randomBytes=function(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");for(var t=new Uint8Array(e),n=0;n<t.length;n+=65536)this._crypto.getRandomValues(t.subarray(n,n+Math.min(t.length-n,65536)));return t},e}();t.BrowserRandomSource=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(109),i=function(){function e(){this.isAvailable=!1,this.isInstantiated=!1;var e=n(168);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}return e.prototype.randomBytes=function(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");var t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");for(var n=new Uint8Array(e),i=0;i<n.length;i++)n[i]=t[i];return r.wipe(t),n},e}();t.NodeRandomSource=i},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(170);function i(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>8,t[n+1]=e>>>0,t}function o(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t}function c(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function u(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function a(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function s(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function f(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>24,t[n+1]=e>>>16,t[n+2]=e>>>8,t[n+3]=e>>>0,t}function l(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24,t}function d(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),f(e/4294967296>>>0,t,n),f(e>>>0,t,n+4),t}function h(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),l(e>>>0,t,n),l(e/4294967296>>>0,t,n+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=i,t.writeInt16BE=i,t.writeUint16LE=o,t.writeInt16LE=o,t.readInt32BE=c,t.readUint32BE=u,t.readInt32LE=a,t.readUint32LE=s,t.writeUint32BE=f,t.writeInt32BE=f,t.writeUint32LE=l,t.writeInt32LE=l,t.readInt64BE=function(e,t){void 0===t&&(t=0);var n=c(e,t),r=c(e,t+4);return 4294967296*n+r-4294967296*(r>>31)},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*u(e,t)+u(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var n=a(e,t);return 4294967296*a(e,t+4)+n-4294967296*(n>>31)},t.readUint64LE=function(e,t){void 0===t&&(t=0);var n=s(e,t);return 4294967296*s(e,t+4)+n},t.writeUint64BE=d,t.writeInt64BE=d,t.writeUint64LE=h,t.writeInt64LE=h,t.readUintBE=function(e,t,n){if(void 0===n&&(n=0),e%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,i=1,o=e/8+n-1;o>=n;o--)r+=t[o]*i,i*=256;return r},t.readUintLE=function(e,t,n){if(void 0===n&&(n=0),e%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,i=1,o=n;o<n+e/8;o++)r+=t[o]*i,i*=256;return r},t.writeUintBE=function(e,t,n,i){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var o=1,c=e/8+i-1;c>=i;c--)n[c]=t/o&255,o*=256;return n},t.writeUintLE=function(e,t,n,i){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var o=1,c=i;c<i+e/8;c++)n[c]=t/o&255,o*=256;return n},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e),t},t.writeFloat32LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e,!0),t},t.writeFloat64BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e),t},t.writeFloat64LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e,!0),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var n=65535&e,r=65535&t;return n*r+((e>>>16&65535)*r+n*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,c=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(c=(o<3?i(c):o>3?i(t,n,c):i(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c};Object.defineProperty(t,"__esModule",{value:!0}),t.Caip10Link=void 0;const o=n(57),c=n(31),u=n(96),a=()=>{throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")},s={anchor:!1,publish:!0,sync:o.SyncOptions.PREFER_CACHE},f={anchor:!0,publish:!0},l={sync:o.SyncOptions.PREFER_CACHE};let d=r=class extends o.Stream{get did(){return this._getContent()}static async fromAccount(e,t,n={}){n={...s,...n};const i=new u.AccountID(t),o=r.makeGenesis(i);return r.fromGenesis(e,o,n)}static async fromGenesis(e,t,n={}){return n={...s,...n},e.createStreamFromGenesis(r.STREAM_TYPE_ID,t,n)}async setDid(e,t,n={}){n={...f,...n};const r="string"==typeof e?e:e.id,i=await t.createLink(r);return this.setDidProof(i,n)}async setDidProof(e,t={}){t={...f,...t};const n=this.makeCommit(e),r=await this.api.applyCommit(this.id,n,t);this.state$.next(r.state)}static async load(e,t,n={}){n={...l,...n};const i=c.StreamRef.from(t);if(i.type!=r.STREAM_TYPE_ID)throw new Error(`StreamID ${i.toString()} does not refer to a '${r.STREAM_TYPE_NAME}' stream, but to a ${i.typeName}`);return e.loadStream(i,n)}static makeGenesis(e){return{header:{controllers:[e.toString()],family:"caip10-"+e.chainId.toString()}}}makeCommit(e){return{data:e,prev:this.tip,id:this.state$.id.cid}}makeReadOnly(){this.setDidProof=a,this.setDid=a}};d.STREAM_TYPE_NAME="caip10-link",d.STREAM_TYPE_ID=1,d=r=i([o.StreamStatic()],d),t.Caip10Link=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(110),i=n(111),o=n(112);class c{constructor(e){"string"==typeof e&&(e=c.parse(e)),this.chainId=new r.ChainID(e.chainId),this.address=e.address}static parse(e){if(!o.isValidId(e,this.spec))throw new Error(`Invalid ${this.spec.name} provided: ${e}`);return new c(o.getParams(e,this.spec)).toJson()}static format(e){return o.joinParams(e,this.spec)}toString(){return c.format(this.toJson())}toJson(){return{chainId:this.chainId.toJson(),address:this.address}}}t.AccountID=c,c.spec=i.CAIP[10]},function(e,t,n){"use strict";n.r(t);var r=n(114);n(116),n(85),n(95),n(96),n(94);const i=Object(r.Router)();i.get("/pinset/:did",async({params:e})=>{const t=await fetch("https://api.estuary.tech/content/list",{method:"GET",headers:{Authorization:"Bearer "+ESTUARY_API_KEY}}),n=await t.json();return new Response(JSON.stringify(n),{headers:{"Content-Type":"application/json"}})}),i.post("/pinset/:did/request",async e=>{const t=await e.json();if(!t.pinSetRecordID)return new Response(JSON.stringify({error:"Could not find field 'pinSetRecordID'"}),{status:400});const n=await fetch("https://gateway.ceramic.network/api/v0/streams/"+t.pinSetRecordID),r=await n.json();if(!r||!r.state||!r.state.metadata)return new Response(JSON.stringify({error:"Malformed response"}),{status:500});if(!r.state.metadata.controllers.includes(e.params.did))return new Response(JSON.stringify({error:"Record not controlled by DID"}),{status:400});if(!r.state.content||!r.state.content.root)return new Response(JSON.stringify({error:"Bad record found"}),{status:400});const i=r.state.content.root.replace("ipfs://",""),o=await fetch("https://api.estuary.tech/content/add-ipfs",{method:"POST",headers:{Authorization:"Bearer "+ESTUARY_API_KEY,"Content-Type":"application/json"},body:JSON.stringify({name:i,root:i})}),c=await o.json();return c.content&&c.content.active?new Response(JSON.stringify({success:!0}),{headers:{"Content-Type":"application/json"},status:202}):new Response(JSON.stringify({error:"Malformed pin response"}),{status:500})}),i.all("*",()=>new Response("404, not found!",{status:404})),addEventListener("fetch",e=>{e.respondWith(i.handle(e.request))})}]);